<!DOCTYPE html>
<html lang="zh-TW">
<head>
<link rel="icon" href="data:,">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÈáëËûçË≠âÁÖßÊ®°Êì¨ËÄÉË©¶Á≥ªÁµ±</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            padding: 10px;
            padding-bottom: 0;
            min-height: 100vh;
            margin-bottom: 120px;
            overflow-x: hidden;
        }
        
        .main-container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin: 10px auto;
            margin-bottom: 130px;
            max-width: 95%;
            width: 100%;
            backdrop-filter: blur(10px);
            min-height: calc(100vh - 250px);
            padding-bottom: 40px;
        }
        
        .quiz-header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-radius: 20px 20px 0 0;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .quiz-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="1.5" fill="rgba(255,255,255,0.1)"/></svg>');
            animation: float 20s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .quiz-header h1 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 2;
        }
        
        .quiz-status {
            position: absolute;
            top: 10px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 3;
        }
        
        .quiz-status.active {
            background: #28a745;
            color: white;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .database-selector {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 20px;
            color: white;
            transition: all 0.3s ease;
        }
        
        .database-selector.disabled {
            opacity: 0.5;
            pointer-events: none;
            filter: grayscale(70%);
            position: relative;
        }
        
        .database-selector.disabled::after {
            content: 'üîí Ê∏¨È©óÈÄ≤Ë°å‰∏≠ÔºåÁÑ°Ê≥ïÂàáÊèõÈ°åÂ∫´';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 10;
        }
        
        .database-card {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .database-card:hover:not(.disabled) {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-3px);
        }
        
        .database-card.selected {
            background: rgba(255, 255, 255, 0.4);
            border-color: #fff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .quiz-container {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin: 20px;
            margin-bottom: 40px;
        }
        
        .option-label {
            display: block;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.4s ease;
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            position: relative;
            overflow: hidden;
        }
        
        .option-label::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.6s ease;
        }
        
        .option-label:hover {
            background: linear-gradient(145deg, #e3f2fd, #bbdefb);
            border-color: #2196f3;
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.2);
        }
        
        .option-label:hover::before {
            left: 100%;
        }
        
        .option-input:checked + .option-label {
            background: linear-gradient(145deg, #c8e6c9, #a5d6a7);
            border-color: #4caf50;
            color: #2e7d32;
            font-weight: bold;
            transform: scale(1.02);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
        }
        
        .option-input:checked + .option-label::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            background: #4caf50;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
            animation: checkmark 0.3s ease-in-out;
        }
        
        @keyframes checkmark {
            0% { transform: translateY(-50%) scale(0); }
            50% { transform: translateY(-50%) scale(1.2); }
            100% { transform: translateY(-50%) scale(1); }
        }
        
        .option-input {
            display: none;
        }
        
        .explanation-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 5px solid #007bff;
            padding: 25px;
            margin-top: 20px;
            border-radius: 12px;
            min-height: 150px;
            max-height: 500px;
            overflow-y: auto;
            word-wrap: break-word;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .explanation-box::-webkit-scrollbar {
            width: 8px;
        }
        
        .explanation-box::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 5px;
        }
        
        .explanation-box::-webkit-scrollbar-thumb {
            background: #007bff;
            border-radius: 5px;
        }
        
        .explanation-box::-webkit-scrollbar-thumb:hover {
            background: #0056b3;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.98), rgba(248, 249, 250, 0.98));
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            z-index: 1040;
            padding: 20px 0;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .btn {
            border-radius: 12px;
            font-weight: 600;
            padding: 12px 8px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: none;
            font-size: 0.85rem;
            min-height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .progress {
            height: 12px;
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.5s ease;
        }
        
        .badge-custom {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-size: 0.9rem;
            padding: 8px 15px;
            border-radius: 20px;
            margin: 5px;
        }
        
        .timer {
            font-size: 1.2rem;
            font-weight: bold;
            color: #FF5722;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 25px;
        }
        
        .timer.warning {
            color: #dc3545;
            animation: blink 1s infinite;
            background: rgba(255, 0, 0, 0.1);
        }
        
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .correct {
            color: #198754;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .incorrect {
            color: #dc3545;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .highlight {
            background: linear-gradient(45deg, #fff3cd, #ffeaa7);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 1rem;
            line-height: 1.6;
            border-left: 4px solid #ffc107;
        }
        
        .nav-brand {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white !important;
            font-weight: bold;
            border-radius: 10px;
            padding: 8px 16px !important;
        }
        
        .settings-panel {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .settings-panel.disabled {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .mode-btn {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
            font-weight: 600;
        }
        
        .mode-btn:hover {
            border-color: #667eea;
            transform: translateY(-1px);
        }
        
        .mode-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: #667eea;
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .back-to-selection {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 8px 16px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }
        
        .back-to-selection:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            flex-direction: column;
        }
        
        .loader {
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top: 5px solid #fff;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .review-modes {
            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
            border: 2px solid #28a745;
            border-radius: 12px;
            padding: 15px;
            margin: 10px 0;
        }

        .review-mode-item {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid #28a745;
            border-radius: 8px;
            padding: 10px 15px;
            margin: 5px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .review-mode-item:hover {
            background: rgba(40, 167, 69, 0.1);
            transform: translateX(5px);
        }

        .review-mode-item.selected {
            background: #28a745;
            color: white;
        }
        
        @media (max-width: 768px) {
            body {
                margin-bottom: 130px;
            }
            
            .main-container {
                margin: 5px auto;
                margin-bottom: 140px;
                border-radius: 15px;
                max-width: 98%;
                padding-bottom: 50px;
            }
            
            .quiz-header {
                padding: 15px;
                border-radius: 15px 15px 0 0;
            }
            
            .database-selector, .quiz-container, .settings-panel {
                margin: 10px;
                padding: 15px;
                margin-bottom: 20px;
            }
            
            .database-card {
                padding: 15px;
                margin: 8px 0;
            }
        }
    </style>
</head>
<body>
    <!-- È†ÇÈÉ®Â∞éËà™ -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand nav-brand" href="#">
                <i class="fas fa-graduation-cap me-2"></i>ÈáëËûçË≠âÁÖßÊ®°Êì¨ËÄÉË©¶Á≥ªÁµ±
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="save-btn">
                            <i class="fas fa-save me-1"></i>ÂÑ≤Â≠òÈÄ≤Â∫¶
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="export-btn">
                            <i class="fas fa-download me-1"></i>ÂåØÂá∫ÈåØÈ°å
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="stats-btn">
                            <i class="fas fa-chart-bar me-1"></i>Â≠∏ÁøíÁµ±Ë®à
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="help-btn">
                            <i class="fas fa-question-circle me-1"></i>‰ΩøÁî®Ë™™Êòé
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div style="height: 70px;"></div>

    <div class="main-container">
        <div id="quiz-status" class="quiz-status" style="display: none;">
            <i class="fas fa-lock me-1"></i>Ê∏¨È©óÈÄ≤Ë°å‰∏≠
        </div>
        
        <div class="quiz-header">
            <h1><i class="fas fa-chart-line me-3"></i>ÈáëËûçË≠âÁÖßÊ®°Êì¨ËÄÉË©¶Á≥ªÁµ±</h1>
            <p class="mb-0">ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô ‚Ä¢ Ë≤°ÂãôÂ†±Ë°®ÂàÜÊûê ‚Ä¢ ÂìÅË≥™ÁÆ°ÁêÜ</p>
        </div>
        
        <!-- È°åÂ∫´ÈÅ∏ÊìáÂçÄ -->
        <div class="database-selector" id="database-selector">
            <h3 class="mb-4"><i class="fas fa-database me-2"></i>ÈÅ∏ÊìáËÄÉË©¶ÁßëÁõÆ</h3>
            <div class="row">
                <div class="col-md-4">
                    <div class="database-card" data-type="financial-market">
                        <div class="text-center">
                            <i class="fas fa-chart-line fa-3x mb-3" style="color: #ffd700;"></i>
                            <h5>ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô</h5>
                            <p class="mb-2">0622 0910 ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô</p>
                            <small>‚≠ê 15È°å - ÈáëËûçÂïÜÂìÅËàáÊäïË≥áÂ∑•ÂÖ∑</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="database-card" data-type="financial-analysis">
                        <div class="text-center">
                            <i class="fas fa-calculator fa-3x mb-3" style="color: #28a745;"></i>
                            <h5>Ë≤°ÂãôÂ†±Ë°®ÂàÜÊûê</h5>
                            <p class="mb-2">0622 1015 Ë≤°ÂãôÂ†±Ë°®ÂàÜÊûê</p>
                            <small>üìä 6È°å - Ë≤°ÂãôÊØîÁéáËàáÁèæÈáëÊµÅÈáè</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="database-card" data-type="quality-management">
                        <div class="text-center">
                            <i class="fas fa-cogs fa-3x mb-3" style="color: #17a2b8;"></i>
                            <h5>ÂìÅË≥™ÁÆ°ÁêÜ</h5>
                            <p class="mb-2">0622 1120 ÂìÅË≥™ÁÆ°ÁêÜ</p>
                            <small>‚öôÔ∏è 9È°å - PDCAËàáÂìÅË≥™ÁÆ°ÁêÜÂ∑•ÂÖ∑</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ë®≠ÂÆöÈù¢Êùø -->
        <div id="settings-panel" class="settings-panel">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-gradient text-white text-center py-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <h5 class="mb-0"><i class="fas fa-cogs me-2"></i>Ê∏¨È©óË®≠ÂÆö</h5>
                </div>
                <div class="card-body p-4">
                    <div class="row g-4">
                        <div class="col-lg-3 col-md-6">
                            <label class="form-label fw-bold">
                                <i class="fas fa-list-ol me-2 text-primary"></i>È°åÁõÆÊï∏Èáè
                            </label>
                            <select id="question-count" class="form-select">
                                <option value="all" selected>ÂÖ®ÈÉ®È°åÁõÆ</option>
                                <option value="5">5È°å - Âø´ÈÄüÁ∑¥Áøí</option>
                                <option value="10">10È°å - Ê®ôÊ∫ñÁ∑¥Áøí</option>
                            </select>
                            <small class="text-muted mt-1 d-block" id="question-count-hint">Ë´ãÂÖàÈÅ∏ÊìáÁßëÁõÆ</small>
                        </div>
                        
                        <div class="col-lg-3 col-md-6">
                            <label class="form-label fw-bold">
                                <i class="fas fa-play-circle me-2 text-success"></i>Á∑¥ÁøíÊ®°Âºè
                            </label>
                            <div class="d-flex flex-wrap gap-1">
                                <button class="mode-btn active" data-mode="practice">
                                    <i class="fas fa-book me-1"></i>Á∑¥ÁøíÊ®°Âºè
                                </button>
                                <button class="mode-btn" data-mode="exam">
                                    <i class="fas fa-clock me-1"></i>Ê®°Êì¨ËÄÉË©¶
                                </button>
                            </div>
                            <div class="review-modes mt-2 d-none" id="review-modes-section">
                                <h6 class="mb-2"><i class="fas fa-redo me-2"></i>Ë§áÁøíÊ®°ÂºèÈÅ∏Êìá</h6>
                                <div class="review-mode-item" data-review-mode="wrong">
                                    <i class="fas fa-times-circle me-2"></i>ÈåØÈ°åË§áÁøí
                                </div>
                                <div class="review-mode-item" data-review-mode="all">
                                    <i class="fas fa-list me-2"></i>ÂÖ®È°åË§áÁøí
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-3 col-md-6">
                            <label class="form-label fw-bold">
                                <i class="fas fa-lightbulb me-2 text-warning"></i>Ëß£ÊûêÈ°ØÁ§∫
                            </label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="show-explanation" checked>
                                <label class="form-check-label" for="show-explanation">
                                    Á≠îÈ°åÂæåÈ°ØÁ§∫Ëß£Êûê
                                </label>
                            </div>
                        </div>
                        
                        <div class="col-lg-3 col-md-6">
                            <label class="form-label fw-bold">
                                <i class="fas fa-rocket me-2 text-danger"></i>Ê∫ñÂÇôÂ∞±Á∑í
                            </label>
                            <button id="start-btn" class="btn btn-danger w-100 mb-2" disabled>
                                <i class="fas fa-play me-2"></i>ÈñãÂßãÁ∑¥Áøí
                            </button>
                            <button id="review-btn-main" class="btn btn-success w-100 mb-2 d-none">
                                <i class="fas fa-redo me-2"></i>ÈñãÂßãË§áÁøí
                            </button>
                            <div id="timer" class="timer text-center">
                                <i class="fas fa-clock me-2"></i>Ë´ãÂÖàÈÅ∏ÊìáÁßëÁõÆ
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÂïèÈ°åÂçÄÂüü -->
        <div id="quiz-container" class="quiz-container d-none">
            <button id="back-to-selection" class="back-to-selection">
                <i class="fas fa-arrow-left me-2"></i>ËøîÂõûÁßëÁõÆÈÅ∏Êìá
            </button>
            
            <div class="progress mb-3">
                <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%"></div>
            </div>
            
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h5 id="question-number" class="mb-0">ÂïèÈ°å 1/15</h5>
                <div class="d-flex gap-2">
                    <span id="database-badge" class="badge-custom">ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô</span>
                    <span id="stats-display" class="badge bg-info">ÂæóÂàÜ: 0/0 (0%)</span>
                </div>
            </div>
            
            <h4 id="question-text" class="mb-4">ËºâÂÖ•È°åÁõÆ‰∏≠...</h4>
            
            <div id="options-container" class="mb-4">
                <!-- ÈÅ∏È†ÖÊúÉÂú®JavaScript‰∏≠ÂãïÊÖãÁîüÊàê -->
            </div>
            
            <div id="explanation-box" class="explanation-box d-none">
                <h5 class="mb-3"><i class="fas fa-lightbulb me-2"></i>Á≠îÊ°àËß£Êûê</h5>
                <div id="explanation-content"></div>
                <div class="mt-3">
                    <span id="topic-badge" class="badge bg-secondary me-2"></span>
                    <span id="subtopic-badge" class="badge bg-info"></span>
                </div>
            </div>
        </div>
        
        <!-- Â∫ïÈÉ®Â∞éËà™ -->
        <div class="bottom-nav" id="bottom-navigation">
            <div class="container-fluid">
                <div class="row justify-content-between align-items-center">
                    <div class="col-2">
                        <button id="prev-btn" class="btn btn-secondary w-100" disabled>
                            <i class="fas fa-arrow-left me-1"></i> 
                            <span class="d-none d-sm-inline">‰∏ä‰∏ÄÈ°å</span>
                        </button>
                    </div>
                    <div class="col-2">
                        <button id="submit-btn" class="btn btn-primary w-100" disabled>
                            <i class="fas fa-check me-1"></i> 
                            <span class="d-none d-sm-inline">Êèê‰∫§</span>
                        </button>
                    </div>
                    <div class="col-2">
                        <button id="next-btn" class="btn btn-warning w-100" disabled>
                            <span class="d-none d-sm-inline">‰∏ã‰∏ÄÈ°å</span>
                            <i class="fas fa-arrow-right ms-1"></i>
                        </button>
                    </div>
                    <div class="col-2">
                        <button id="finish-btn" class="btn btn-success w-100" disabled>
                            <i class="fas fa-flag-checkered me-1"></i> 
                            <span class="d-none d-sm-inline">ÂÆåÊàê</span>
                        </button>
                    </div>
                    <div class="col-2">
                        <button id="explanation-btn" class="btn btn-info w-100" disabled>
                            <i class="fas fa-lightbulb me-1"></i> 
                            <span class="d-none d-sm-inline">Êü•ÁúãËß£Êûê</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ê®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="result-modal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Ê∏¨È©óÁµêÊûú</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="result-content" style="max-height: 70vh; overflow-y: auto;"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÈóúÈñâ</button>
                    <button type="button" class="btn btn-primary" id="review-wrong-btn">Ë§áÁøíÈåØÈ°å</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="stats-modal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title">Â≠∏ÁøíÁµ±Ë®à</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="stats-content"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÈóúÈñâ</button>
                    <button type="button" class="btn btn-danger" id="reset-stats-btn">ÈáçÁΩÆÂ≠∏ÁøíÈÄ≤Â∫¶</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="help-modal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">‰ΩøÁî®Ë™™Êòé</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h5><i class="fas fa-book me-2 text-primary"></i>‰∏âÂ§ßÁßëÁõÆÈáçÈªû</h5>
                    
                    <div class="card mb-3">
                        <div class="card-header bg-warning">
                            <h6 class="mb-0">üìà ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô (15È°å)</h6>
                        </div>
                        <div class="card-body">
                            <ul class="mb-0">
                                <li>Áï∂Ê≤ñ‰∫§ÊòìËàáËûçË≥áËûçÂà∏</li>
                                <li>Ë°åÁÇ∫Ë≤°ÂãôÂ≠∏ÁêÜË´ñ</li>
                                <li>Âü∫ÈáëËàáETFÁî¢ÂìÅ</li>
                                <li>ÂÇµÂà∏Â∏ÇÂ†¥ËàáÈ¢®Èö™</li>
                                <li>Ë°çÁîüÊÄßÂïÜÂìÅ</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header bg-success text-white">
                            <h6 class="mb-0">üìä Ë≤°ÂãôÂ†±Ë°®ÂàÜÊûê (6È°å)</h6>
                        </div>
                        <div class="card-body">
                            <ul class="mb-0">
                                <li>Ë≥áÁî¢Ë≤†ÂÇµË°®ÂàÜÊûê</li>
                                <li>Ë≤°ÂãôÊØîÁéáË®àÁÆó</li>
                                <li>ÁèæÈáëÊµÅÈáèË°®Á∑®Âà∂</li>
                                <li>‰ºÅÊ•≠Ê¥ªÂãïÂàÜÊûê</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header bg-info text-white">
                            <h6 class="mb-0">‚öôÔ∏è ÂìÅË≥™ÁÆ°ÁêÜ (9È°å)</h6>
                        </div>
                        <div class="card-body">
                            <ul class="mb-0">
                                <li>PDCAÂæ™Áí∞ËàáÊåÅÁ∫åÊîπÂñÑ</li>
                                <li>ÂìÅË≥™ÁÆ°ÁêÜÂ∑•ÂÖ∑ËàáÊâãÊ≥ï</li>
                                <li>Ê®ôÁ´øÂ≠∏ÁøíËàáÊµÅÁ®ãÊîπÂñÑ</li>
                                <li>ÂÖ®Èù¢ÂìÅË≥™ÁÆ°ÁêÜ</li>
                            </ul>
                        </div>
                    </div>
                    
                    <h6>üéØ ‰ΩøÁî®Âª∫Ë≠∞</h6>
                    <ul>
                        <li>ÂÖàÈÅ∏ÊìáÁßëÁõÆÔºåÁ≥ªÁµ±ÊúÉËá™ÂãïË™øÊï¥È°åÁõÆÊï∏Èáè</li>
                        <li>Âª∫Ë≠∞‰ΩøÁî®Á∑¥ÁøíÊ®°ÂºèÔºåÂèØÁ´ãÂç≥Êü•ÁúãËß£Êûê</li>
                        <li>ÈåØÈ°åÊúÉËá™ÂãïË®òÈåÑÔºåÂèØÈÄ≤Ë°åÈåØÈ°åË§áÁøí</li>
                        <li>ÂÆöÊúüÊü•ÁúãÂ≠∏ÁøíÁµ±Ë®àÔºåÊéåÊè°Â≠∏ÁøíÈÄ≤Â∫¶</li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÈóúÈñâ</button>
                </div>
            </div>
        </div>
    </div>

    <div id="loading-overlay" class="overlay d-none">
        <div class="loader"></div>
        <div id="loading-text" class="loading-text">ËôïÁêÜ‰∏≠...</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // È°åÂ∫´Ë≥áÊñô
        const quizData = {
            'financial-market': [
                {
                    question: "Áï∂Ê≤ñ‰∫§ÊòìÂèØÂàÜÁÇ∫Âì™ÂÖ©È°ûÔºü",
                    options: [
                        "ÁèæËÇ°Áï∂Ê≤ñËàáË≥áÂà∏Áï∂Ê≤ñ",
                        "ËûçË≥áÁï∂Ê≤ñËàáËûçÂà∏Áï∂Ê≤ñ",
                        "ÁèæÈáëÁï∂Ê≤ñËàáÂÄüÂà∏Áï∂Ê≤ñ",
                        "Áü≠Á∑öÁï∂Ê≤ñËàáÈï∑Á∑öÁï∂Ê≤ñ"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "Áï∂Ê≤ñÂèØÂàÜÁÇ∫ÂÖ©È°ûÔºö1.ÁèæËÇ°Áï∂Ê≤ñÔºöÂú®Áï∂Â§©Âà©Áî®ÁèæÈáëË≤∑ÈÄ≤„ÄÅË≥£Âá∫Âêå‰∏ÄÊ™îËÇ°Á•®„ÄÇ2.Ë≥áÂà∏Áï∂Ê≤ñÔºöÂú®Áï∂Â§©Âà©Áî®ËûçË≥áË≤∑ÈÄ≤„ÄÅËûçÂà∏Ë≥£Âá∫Âêå‰∏ÄÊ™îËÇ°Á•®„ÄÇ",
                    topic: "Áï∂Ê≤ñ‰∫§Êòì",
                    subtopic: "‰∫§ÊòìÂàÜÈ°û"
                },
                {
                    question: "ÁèæÂà∏Ë≥£Âá∫ÂæåÊú™ÂÆåÊàêÂèçÂêëÊ≤ñÈä∑ÊôÇÔºåÊáâÂ¶Ç‰ΩïËôïÁêÜÔºü",
                    options: [
                        "Ëá™ÂãïÂèñÊ∂à‰∫§Êòì",
                        "Êõ¥Êîπ‰∫§ÊòìÈ°ûÂà•ÁÇ∫ËûçÂà∏/ÂÄüÂà∏Ë≥£Âá∫ÔºåÁõ∏ÈóúË≤ªÁî®Áî±ÊäïË≥á‰∫∫Ë≤†Êìî",
                        "Âª∂ÂæåËá≥ÈöîÊó•Âü∑Ë°å",
                        "Á≥ªÁµ±Ëá™ÂãïË£úË∂≥Ë≥áÈáë"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "ÁèæÂà∏Ë≥£Âá∫Êàê‰∫§ÂæåÔºåÊú™ÂÆåÊàêÂèçÂêëË≤∑ÈÄ≤ÔºåËá¥ÁÑ°Ê≥ïÂÆåÊàêÁï∂Êó•Ê≤ñÈä∑‰∫§ÊòìÔºåÂèØÊõ¥Êîπ‰∫§ÊòìÈ°ûÂà•ÁÇ∫ËûçÂà∏/ÂÄüÂà∏Ë≥£Âá∫ÔºåÊâÄÁôºÁîü‰πãÁï∂Êó•ÊâãÁ∫åË≤ªÂèäÂêÑÈ†ÖÂÖ∂‰ªñË≤ªÁî®ÔºåÂùáÊáâÁî±ÊäïË≥á‰∫∫Ë≤†Êìî„ÄÇ",
                    topic: "Áï∂Ê≤ñ‰∫§Êòì",
                    subtopic: "È¢®Èö™ËôïÁêÜ"
                },
                {
                    question: "Ë≠âÈáëÂÖ¨Âè∏Êáâ‰ªòË≠âÂà∏‰∏çÂ§†ÂÄüÂá∫ÁöÑÁ™òÂ¢ÉÔºåÊúâÂì™‰∏âÁ®ÆÊñπÊ≥ïÔºü",
                    options: [
                        "Ê®ôÂÄü„ÄÅË≠∞ÂÄü„ÄÅÊ®ôË≥º",
                        "ËûçË≥á„ÄÅËûçÂà∏„ÄÅÂÄüÂà∏",
                        "Ë≤∑ÈÄ≤„ÄÅË≥£Âá∫„ÄÅÊåÅÊúâ",
                        "ÁèæÈáë„ÄÅËûçË≥á„ÄÅÂÄüÂà∏"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "Ë≠âÈáëÂÖ¨Âè∏Êúâ‰∏âÁ®ÆÊñπÊ≥ïÔºö1.Ê®ôÂÄüÔºöÂÖ¨ÈñãÂêëÂ§ßÁúæÂÄüËÇ°Á•®ÔºåÂá∫ÂÄüË≤ªÁéá‰∏çË∂ÖÈÅéÊî∂Áõ§ÂÉπÊ†º16%„ÄÇ2.Ë≠∞ÂÄüÔºöÊ¥ΩÁâπÂÆö‰∫∫ÂÄüËÇ°Á•®ÔºåÂñÆÂÉπ‰∏çË∂ÖÈÅéÁî≥Ë´ãÊó•ÈñãÁõ§Á´∂ÂÉπÂü∫Ê∫ñ16%„ÄÇ3.Ê®ôË≥ºÔºöÂêëÊäïË≥áÂ§ßÁúæË≤∑ËÇ°Á•®ÔºåÊ®ôË≥ºÂ∫ïÂÉπ‰ª•Ââç‰∏ÄÁáüÊ•≠Êó•Êî∂Áõ§ÂÉπÊ†º+15%ÁÇ∫Èôê„ÄÇ",
                    topic: "Ë≠âÂà∏ÂÄüÂà∏",
                    subtopic: "Ë≠âÈáëÂÖ¨Âè∏Ê•≠Âãô"
                },
                {
                    question: "Â±ïÊúõÁêÜË´ñÁöÑÂÖ©ÂÄãÈáçÈªûÊòØ‰ªÄÈ∫ºÔºü",
                    options: [
                        "ÁµïÂ∞çË≤°ÂØåËàáÁõ∏Â∞çË≤°ÂØå",
                        "‰∫∫ÁöÑÊïàÁî®ÂèñÊ±∫ÊñºÁõ∏Â∞çË≤°ÂØåÔºå‰∏î‰∫∫È°ûÂú®Áç≤Âà©ÊôÇÊÄïÈ¢®Èö™ÔºåË≥†Èå¢ÊôÇÂñúÊ≠°ÂÜíÈö™",
                        "È¢®Èö™ÂÅèÂ•ΩËàáÈ¢®Èö™‰∏≠Á´ã",
                        "È†êÊúüÂ†±ÈÖ¨ËàáÂØ¶ÈöõÂ†±ÈÖ¨"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "Â±ïÊúõÁêÜË´ñÊúâÂÖ©ÂÄãÈáçÈªûÔºö1.‰∫∫ÁöÑÊïàÁî®ÂèñÊ±∫ÊñºÁõ∏Â∞çË≤°ÂØåËÄåÈùûÁµïÂ∞çË≤°ÂØå„ÄÇ‰æãÂ¶ÇÂ∏ÇÂ†¥Âπ≥ÂùáË≥∫‰∫Ü10%Ôºå‰Ω†Âè™Ë≥∫‰∫Ü5%ÔºåÂç≥‰Ωø‰Ω†ÊòØË≥∫Èå¢Ôºå‰Ω†ÊòØ‰∏çÂø´Ê®ÇÁöÑ„ÄÇ2.‰∫∫È°ûÂú®Áõ∏Â∞çÁç≤Âà©ÊôÇÊòØÊÄïÈ¢®Èö™ÁöÑÔºå‰ΩÜÊòØÂú®Áõ∏Â∞çË≥†Èå¢ÊôÇÊòØÂñúÊ≠°ÂÜíÈö™ÁöÑ„ÄÇ",
                    topic: "Ë°åÁÇ∫Ë≤°ÂãôÂ≠∏",
                    subtopic: "Â±ïÊúõÁêÜË´ñ"
                },
                {
                    question: "‰ªÄÈ∫ºÊòØÊúÄÂ§ßÁ¨®ËõãÁêÜË´ñÔºü",
                    options: [
                        "ÊäïË≥áËÄÖÂÆåÂÖ®‰∏çÁÆ°ÁúüÂØ¶ÂÉπÂÄºÔºåÈ†êÊúüÊúÉÊúâÊõ¥Â§ßÁöÑÁ¨®ËõãÂá∫Êõ¥È´òÂÉπÊ†ºË≤∑Ëµ∞",
                        "ÊäïË≥áËÄÖÁ∏ΩÊòØÂÅöÂá∫ÈåØË™§Ê±∫Á≠ñ",
                        "Â∏ÇÂ†¥‰∏äÊúÄÁ¨®ÁöÑÊäïË≥áËÄÖÊúÉÂΩ±ÈüøÂÉπÊ†º",
                        "ÊäïË≥áËÄÖÊáâË©≤ÈÅøÂÖçÊàêÁÇ∫ÊúÄÂæå‰∏ÄÂÄãË≤∑ÂÆ∂"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "ÊúÄÂ§ßÁ¨®ËõãÁêÜË´ñÂº∑Ë™øÊäïË≥áÊôÇ‰Ω†ÂÆåÂÖ®‰∏çÁÆ°ÊüêÊ®£Êù±Ë•øÁöÑÁúüÂØ¶ÂÉπÂÄºÔºåÂç≥‰Ωø‰ªñ‰∏ÄÊñá‰∏çÂÄº‰Ω†‰πüÈ°òÊÑèÈ´òÂÉπË≤∑‰∏ãÔºåÊòØÂõ†ÁÇ∫‰Ω†È†êÊúüÊúÉÊúâ‰∏ÄÂÄãÊõ¥Â§ßÁöÑÁ¨®ËõãÊúÉÂá∫Êõ¥È´òÂÉπÊ†ºË≤∑Ëµ∞„ÄÇ",
                    topic: "Ë°åÁÇ∫Ë≤°ÂãôÂ≠∏",
                    subtopic: "ÊäïË≥áÂøÉÁêÜ"
                },
                {
                    question: "ÈÄ†ÊàêÈÅéÂ∫¶Ëá™‰ø°ÁöÑ‰∏âÁ®ÆÈåØË™§Ë™çÁü•ÊòØÔºü",
                    options: [
                        "ÊéßÂà∂ÂπªË¶∫„ÄÅËá™ÊàëÊ≠∏Âõ†„ÄÅÈÅ∏ÊìáÊÄßÂÅèÂ∑Æ",
                        "Ë≤™Â©™„ÄÅÊÅêÊáº„ÄÅÂÉ•ÂÄñ",
                        "Ê®ÇËßÄ„ÄÅÊÇ≤ËßÄ„ÄÅ‰∏≠ÊÄß",
                        "ÁêÜÊÄß„ÄÅÊÑüÊÄß„ÄÅÁõ¥Ë¶∫"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "ÈÅéÂ∫¶Ëá™‰ø°ÊåáÁöÑÊòØ‰∫∫ÂÄëÈ´ò‰º∞Ëá™Â∑±ÁöÑÁü•Ë≠ò„ÄÅËÉΩÂäõÔºåÊàñÂ∞çÊñºËá™Â∑±ÊéßÂà∂‰∫ãÊÉÖ„ÄÅËß£ËÆÄË≥áË®äÁöÑËÉΩÂäõÈÅéÂ∫¶Ê®ÇËßÄ„ÄÇ‰∏âÁ®ÆÈåØË™§Ë™çÁü•ÈÄ†Êàê‰∫ÜÈÅéÂ∫¶Ëá™‰ø°Ôºö1.ÊéßÂà∂ÂπªË¶∫„ÄÅ2.Ëá™ÊàëÊ≠∏Âõ†„ÄÅ3.ÈÅ∏ÊìáÊÄßÂÅèÂ∑Æ„ÄÇ",
                    topic: "Ë°åÁÇ∫Ë≤°ÂãôÂ≠∏",
                    subtopic: "Ë™çÁü•ÂÅèË™§"
                },
                {
                    question: "‰ªÄÈ∫ºÊòØÁßÅÊàøÈå¢ÊïàÊáâÔºü",
                    options: [
                        "ÊäïË≥áËÄÖÈö±ËóèÊäïË≥áÊî∂Áõä",
                        "‰∏äÊ¨°Ë≤∑ËÇ°Á•®Ë≥∫Èå¢ÔºåÊäïË≥áËÄÖÊúÉÊõ¥ÊúâÊÑèÈ°òÊäïË≥áÈÄôÊ™îËÇ°Á•®ÔºåÁîöËá≥Âä†Á¢ºÊõ¥Â§ö",
                        "ÊäïË≥áËÄÖÂ∞áÁç≤Âà©Ë≥áÈáëÂè¶Â§ñÂ≠òÊîæ",
                        "ÊäïË≥áËÄÖÂè™Áî®ÈñíÁΩÆË≥áÈáëÊäïË≥á"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "Â¶ÇÊûú‰∏äÊ¨°Ë≤∑‰∏ÄÊ™îËÇ°Á•®Ë≥∫Èå¢ÔºåÊäïË≥áËÄÖÊúÉÊõ¥ÊúâÊÑèÈ°òÊäïË≥áÈÄôÊ™îËÇ°Á•®ÔºåÁîöËá≥Âä†Á¢ºÊõ¥Â§öÔºåË≤°ÂãôÂ≠∏ÂÆ∂Á®±‰πãÁÇ∫„ÄåÁßÅÊàøÈå¢ÊïàÊáâ„Äç„ÄÇÊäïË≥áËÄÖÂú®ËÇ°Â∏ÇÂöêÂà∞ÁîúÈ†≠ÔºåÁî±ÊñºÁßÅÊàøÈå¢ÊïàÊáâÁöÑÂΩ±ÈüøÔºåÊúÉÊõ¥ÁÜ±Ë°∑ÊñºËÇ°Á•®ÔºåËÄåÂøΩÁï•ËÇ°Á•®‰∏äÊº≤ÁöÑÈ¢®Èö™„ÄÇ",
                    topic: "Ë°åÁÇ∫Ë≤°ÂãôÂ≠∏",
                    subtopic: "ÊäïË≥áË°åÁÇ∫"
                },
                {
                    question: "ÈñãÊîæÂûãÂü∫ÈáëËàáÂ∞ÅÈñâÂûãÂü∫ÈáëÂú®‰∫§ÊòìÂÉπÊ†ºÊ±∫ÂÆö‰∏äÁöÑÂ∑ÆÁï∞ÊòØÔºü",
                    options: [
                        "ÈñãÊîæÂûã‰æùÊ∑®ÂÄºÔºåÂ∞ÅÈñâÂûã‰æùÈõÜ‰∏≠Â∏ÇÂ†¥‰æõÈúÄ",
                        "ÈñãÊîæÂûã‰æùÂ∏ÇÂ†¥ÂÉπÊ†ºÔºåÂ∞ÅÈñâÂûã‰æùÊ∑®ÂÄº",
                        "ÂÖ©ËÄÖÈÉΩ‰æùÊ∑®ÂÄºÊ±∫ÂÆö",
                        "ÂÖ©ËÄÖÈÉΩ‰æùÂ∏ÇÂ†¥‰æõÈúÄÊ±∫ÂÆö"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "ÈñãÊîæÂûãÂü∫ÈáëÁöÑ‰∫§ÊòìÂÉπÊ†º‰æùÊ∑®ÂÄºÊ±∫ÂÆöÔºåÂ∞ÅÈñâÂûãÂü∫ÈáëÁöÑ‰∫§ÊòìÂÉπÊ†º‰æùÈõÜ‰∏≠Â∏ÇÂ†¥ÁöÑ‰æõÈúÄÊ±∫ÂÆö„ÄÇ",
                    topic: "Âü∫ÈáëÊäïË≥á",
                    subtopic: "Âü∫ÈáëÈ°ûÂûã"
                },
                {
                    question: "ETFËøΩËπ§ÊåáÊï∏ÁöÑ‰∏âÁ®ÆÊñπÂºèÊòØÔºü",
                    options: [
                        "ÂÆåÂÖ®Ë§áË£ΩÊ≥ï„ÄÅÊúÄ‰Ω≥ÂåñË§áË£ΩÊ≥ï„ÄÅÂêàÊàêË§áË£ΩÊ≥ï",
                        "Áõ¥Êé•Ë§áË£ΩÊ≥ï„ÄÅÈñìÊé•Ë§áË£ΩÊ≥ï„ÄÅÊ∑∑ÂêàË§áË£ΩÊ≥ï",
                        "‰∏ªÂãïË§áË£ΩÊ≥ï„ÄÅË¢´ÂãïË§áË£ΩÊ≥ï„ÄÅÂπ≥Ë°°Ë§áË£ΩÊ≥ï",
                        "ÁèæÈáëË§áË£ΩÊ≥ï„ÄÅÂØ¶Áâ©Ë§áË£ΩÊ≥ï„ÄÅË°çÁîüË§áË£ΩÊ≥ï"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "ETFËøΩËπ§ÊåáÊï∏ÊñπÂºèÊúâ‰∏âÁ®ÆÔºö1.ÂÆåÂÖ®Ë§áË£ΩÊ≥ï„ÄÅ2.ÊúÄ‰Ω≥ÂåñË§áË£ΩÊ≥ï„ÄÅ3.ÂêàÊàêË§áË£ΩÊ≥ï„ÄÇ",
                    topic: "ETFÊäïË≥á",
                    subtopic: "ËøΩËπ§ÊñπÂºè"
                },
                {
                    question: "ETFÂïÜÂìÅÁöÑÁâπËâ≤‰∏çÂåÖÊã¨Ôºü",
                    options: [
                        "Ë¢´ÂãïÂºèÁÆ°ÁêÜÔºåËøΩÊ±ÇÊåáÊï∏Â†±ÈÖ¨Áéá",
                        "Áç®Áâπ‰πãÂØ¶Áâ©Áî≥Ë≥º/Ë≤∑ÂõûÊ©üÂà∂",
                        "‰∏ªÂãïÂºèÁÆ°ÁêÜÔºåËøΩÊ±ÇË∂ÖÈ°çÂ†±ÈÖ¨",
                        "ÂÖºÂÖ∑ËÇ°Á•®ËàáÊåáÊï∏Âü∫ÈáëÁâπËâ≤"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "ETFÂïÜÂìÅÁâπËâ≤Ôºö1.Ë¢´ÂãïÂºèÁÆ°ÁêÜÔºåËøΩÊ±ÇÊåáÊï∏Â†±ÈÖ¨ÁéáÔºõ2.Áç®Áâπ‰πãÂØ¶Áâ©Áî≥Ë≥º/Ë≤∑ÂõûÊ©üÂà∂Ôºå‰ΩøÂÖ∂Â∏ÇÂÉπË≤ºËøëÊ∑®ÂÄºÔºõ3.ÂÖºÂÖ∑ËÇ°Á•®ËàáÊåáÊï∏Âü∫ÈáëÁâπËâ≤‰πãÂïÜÂìÅ„ÄÇ",
                    topic: "ETFÊäïË≥á",
                    subtopic: "Áî¢ÂìÅÁâπËâ≤"
                },
                {
                    question: "ÂÇµÂà∏Â∏ÇÂ†¥ÁöÑÂäüËÉΩ‰∏çÂåÖÊã¨Ôºü",
                    options: [
                        "ËûçË≥áÂäüËÉΩ",
                        "ÂºïÂ∞éË≥áÈáëÊµÅÂãïÂäüËÉΩ",
                        "ËÇ°Á•®ÂÉπÊ†ºÁôºÁèæÂäüËÉΩ",
                        "ÊîøÂ∫úË≤°ÊîøÊîøÁ≠ñËàáË≤®Âπ£ÊîøÁ≠ñ‰∏ªË¶ÅÂ∑•ÂÖ∑"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "ÂÇµÂà∏Â∏ÇÂ†¥Êúâ‰∏âÂ§ßÂäüËÉΩÔºö1.ËûçË≥áÂäüËÉΩ„ÄÅ2.ÂºïÂ∞éË≥áÈáëÊµÅÂãïÂäüËÉΩ„ÄÅ3.ÊîøÂ∫úË≤°ÊîøÊîøÁ≠ñËàáË≤®Âπ£ÊîøÁ≠ñ‰∏ªË¶ÅÂ∑•ÂÖ∑„ÄÇ",
                    topic: "ÂÇµÂà∏ÊäïË≥á",
                    subtopic: "Â∏ÇÂ†¥ÂäüËÉΩ"
                },
                {
                    question: "ÊäïË≥áÂÇµÂà∏ÁöÑÈ¢®Èö™‰∏≠ÔºåÂì™‰∏ÄÈ†Ö‰∏çÂåÖÊã¨Âú®ÂÖßÔºü",
                    options: [
                        "Âà©ÁéáÈ¢®Èö™",
                        "‰ø°Áî®È¢®Èö™",
                        "ËÇ°Ê¨äÁ®ÄÈáãÈ¢®Èö™",
                        "ÈÄöË≤®ËÜ®ËÑπÈ¢®Èö™"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "ÊäïË≥áÂÇµÂà∏ÁöÑÈ¢®Èö™ÂåÖÊã¨Ôºö1.Âà©ÁéáÈ¢®Èö™„ÄÅ2.ÂÜçÊäïË≥áÈ¢®Èö™„ÄÅ3.‰ø°Áî®È¢®Èö™„ÄÅ4.ÊµÅÂãïÊÄßÈ¢®Èö™„ÄÅ5.ÈÄöË≤®ËÜ®ËÑπÈ¢®Èö™„ÄÅ6.Ë¥ñÂõûÈ¢®Èö™„ÄÅ7.ÂåØÁéáÈ¢®Èö™„ÄÅ8.Ê≥¢ÂãïÂ∫¶È¢®Èö™„ÄÅ9.È¢®Èö™Êú™Áü•È¢®Èö™„ÄÇ",
                    topic: "ÂÇµÂà∏ÊäïË≥á",
                    subtopic: "ÊäïË≥áÈ¢®Èö™"
                },
                {
                    question: "ÁôºË°åÊäóÈÄöËÜ®ÂÇµÂà∏ÁöÑÂäüËÉΩ‰∏çÂåÖÊã¨Ôºü",
                    options: [
                        "ËÆìÊäïË≥áËÄÖÊ≤íÊúâÈÄöË≤®ËÜ®ËÑπÈ¢®Èö™",
                        "ÂÇ≥ÈÅûÊîøÂ∫úÊ¨≤ÊéßÂà∂ÈÄöË≤®ËÜ®ËÑπÁöÑË®äÊÅØ",
                        "ÊèêÈ´òÊîøÂ∫úÁ±åË≥áÊàêÊú¨",
                        "ÂÖ∂Âà©ÁéáËºÉ‰ΩéÔºåÊñπ‰æøÊîøÂ∫úÁ±åÊé™Ë≥áÈáë"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "ÁôºË°åÊäóÈÄöËÜ®ÂÇµÂà∏ÁöÑÂäüËÉΩÔºö1.ÊäóÈÄöËÜ®ÂúãÂ∫´ÂÇµÂà∏ËÆìÊäïË≥áËÄÖÁúüÊ≠£ÂÅöÂà∞Ê≤íÊúâÈÄöË≤®ËÜ®ËÑπÈ¢®Èö™Ôºõ2.ÂÇ≥ÈÅûÊîøÂ∫úÊ¨≤ÊéßÂà∂ÈÄöË≤®ËÜ®ËÑπÔºåÁ©©ÂÆöÂ∏ÇÂ†¥ÁöÑË®äÊÅØÔºõ3.ÁôºË°åÊäóÈÄöËÜ®ÂúãÂ∫´ÂÇµÂà∏ÔºåÂÖ∂Âà©ÁéáËºÉ‰ΩéÔºåÊñπ‰æøÊîøÂ∫úÁ±åÊé™Ë≥áÈáë„ÄÇ",
                    topic: "ÂÇµÂà∏ÊäïË≥á",
                    subtopic: "ÁâπÊÆäÂÇµÂà∏"
                },
                {
                    question: "ÊúüË≤®ÁöÑ‰∏âÈ†ÖÂäüËÉΩÊòØÔºü",
                    options: [
                        "ÊäïÊ©ü„ÄÅÈÅøÈö™„ÄÅÂÉπÊ†ºÁôºÁèæ",
                        "Â•óÂà©„ÄÅÂ∞çÊ≤ñ„ÄÅÊäïË≥á",
                        "Ë≤∑Ë≥£„ÄÅÊåÅÊúâ„ÄÅ‰∫§Ââ≤",
                        "ËûçË≥á„ÄÅËûçÂà∏„ÄÅÂÄüË≤∏"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "ÊúüË≤®Êúâ‰∏âÈ†ÖÂäüËÉΩÔºö1.ÊäïÊ©üÁöÑÂäüËÉΩ„ÄÅ2.ÈÅøÈö™ÁöÑÂäüËÉΩ„ÄÅ3.ÂÉπÊ†ºÁôºÁèæ(Price Discovery)„ÄÇ",
                    topic: "ÊúüË≤®ÊäïË≥á",
                    subtopic: "Â∏ÇÂ†¥ÂäüËÉΩ"
                },
                {
                    question: "ÈáëËûçÊúüË≤®‰∏çÂåÖÊã¨Âì™‰∏ÄÈ°ûÔºü",
                    options: [
                        "Â§ñÂåØÊúüË≤®",
                        "Âà©ÁéáÊúüË≤®",
                        "Ëæ≤Áî¢ÂìÅÊúüË≤®",
                        "ËÇ°ÂÉπÊåáÊï∏ÊúüË≤®"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "ÊúüË≤®ÊåâÊ®ôÁöÑÁâ©ÊÄßË≥™ÂàÜÁÇ∫ÂÖ©Â§ßÈ°ûÔºö‰∏Ä„ÄÅÂïÜÂìÅÊúüË≤®ÔºöËæ≤Áî¢ÂìÅÊúüË≤®„ÄÅÈáëÂ±¨ÊúüË≤®„ÄÅËÉΩÊ∫êÊúüË≤®„ÄÅÂÖ∂‰ªñÂïÜÂìÅÊúüË≤®Ôºõ‰∫å„ÄÅÈáëËûçÊúüË≤®ÔºöÂ§ñÂåØÊúüË≤®„ÄÅÂà©ÁéáÊúüË≤®„ÄÅËÇ°ÂÉπÊåáÊï∏ÊúüË≤®„ÄÇ",
                    topic: "ÊúüË≤®ÊäïË≥á",
                    subtopic: "ÂïÜÂìÅÂàÜÈ°û"
                }
            ],
            'financial-analysis': [
                {
                    question: "Ë≥áÁî¢Ë≤†ÂÇµË°®ÁöÑÁôæÂàÜÊØîÂåñÂàÜÊûêÈÄöÂ∏∏‰ª•‰ªÄÈ∫ºÂÅöÁÇ∫ËΩâÊèõÂü∫Á§éÔºü",
                    options: [
                        "ÁáüÊ•≠Êî∂ÂÖ•Ê∑®È°ç",
                        "Ë≥áÁî¢Á∏ΩÈ°ç",
                        "Ê¨äÁõäÁ∏ΩÈ°ç",
                        "Ë≤†ÂÇµÁ∏ΩÈ°ç"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "Ë≥áÁî¢Ë≤†ÂÇµË°®ÁöÑÁôæÂàÜÊØîÂåñÂàÜÊûêÔºöË≥áÁî¢Ë≤†ÂÇµË°®ÈÄöÂ∏∏‰ª•Ë≥áÁî¢Á∏ΩÈ°çÂÅöÁÇ∫ÁôæÂàÜÊØîÂåñÁöÑËΩâÊèõÂü∫Á§éÔºåË®àÁÆóÊØè‰∏ÄÂÄãÈ†ÖÁõÆ‰ΩîË≥áÁî¢ÁöÑÊØîÈáç„ÄÇ",
                    topic: "Ë≤°ÂãôÂàÜÊûêÂü∫Á§é",
                    subtopic: "ÂÖ±ÂêåÂü∫Ê∫ñÂàÜÊûê"
                },
                {
                    question: "Á∂úÂêàÊêçÁõäË°®ÁöÑÁôæÂàÜÊØîÂåñÂàÜÊûêÈÄöÂ∏∏‰ª•‰ªÄÈ∫ºÂÅöÁÇ∫ËΩâÊèõÂü∫Á§éÔºü",
                    options: [
                        "Ë≥áÁî¢Á∏ΩÈ°ç",
                        "ÁáüÊ•≠Êî∂ÂÖ•Ê∑®È°ç",
                        "ÁáüÊ•≠Âà©Áõä",
                        "Êú¨ÊúüÊ∑®Âà©"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "Á∂úÂêàÊêçÁõäË°®ÁöÑÁôæÂàÜÊØîÂåñÂàÜÊûêÔºöÁ∂úÂêàÊêçÁõäË°®Ââá‰ª•ÁáüÊ•≠Êî∂ÂÖ•Ê∑®È°çÂÅöÁÇ∫ÁôæÂàÜÊØîÂåñÁöÑËΩâÊèõÂü∫Á§éÔºåË®àÁÆóÊØè‰∏ÄÂÄãÈ†ÖÁõÆÂç†ÁáüÊ•≠Êî∂ÂÖ•ÁöÑÊØîÈáç„ÄÇ",
                    topic: "Ë≤°ÂãôÂàÜÊûêÂü∫Á§é",
                    subtopic: "ÂÖ±ÂêåÂü∫Ê∫ñÂàÜÊûê"
                },
                {
                    question: "Ê†πÊìöÈ°åÁõÆË≥áÊñôÔºåA‰ºÅÊ•≠ÁöÑË≤†ÂÇµÊØîÁéáÁÇ∫Ôºü(Ë≥áÁî¢Á∏ΩÈ°ç$776,000ÔºåË≤†ÂÇµÁ∏ΩÈ°ç$313,000)",
                    options: [
                        "40.34%",
                        "59.66%",
                        "67.60%",
                        "158.04%"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "Ë≤†ÂÇµÊØîÁéá = Ë≤†ÂÇµÁ∏ΩÈ°ç √∑ Ë≥áÁî¢Á∏ΩÈ°ç √ó 100% = $313,000 √∑ $776,000 √ó 100% = 40.34%",
                    topic: "Ë≤°ÂãôÊØîÁéáÂàÜÊûê",
                    subtopic: "ÂÑüÂÇµËÉΩÂäõÂàÜÊûê"
                },
                {
                    question: "ÈÄüÂãïË≥áÁî¢ÁöÑÂÆöÁæ©ÊòØ‰ªÄÈ∫ºÔºü",
                    options: [
                        "ËÉΩÂ§†Âø´ÈÄüËΩâÊèõÁèæÈáëÁöÑË≥áÁî¢",
                        "ÊµÅÂãïÊÄßÊúÄÈ´òÁöÑË≥áÁî¢",
                        "Âú®‰ºÅÊ•≠Ë≥áÁî¢‰∏≠ËÉΩÂ§†Âø´ÈÄüËΩâÊèõÁèæÈáëÊàñÁèæÈáëÁ≠âÂÉπÁâ©ÁöÑÈÉ®ÂàÜ",
                        "‰∏ÄÂπ¥ÂÖßÂà∞ÊúüÁöÑË≥áÁî¢"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "ÈÄüÂãïË≥áÁî¢ÊòØÊåáÂú®‰ºÅÊ•≠Ë≥áÁî¢‰∏≠ËÉΩÂ§†Âø´ÈÄüËΩâÊèõÁèæÈáëÊàñÁèæÈáëÁ≠âÂÉπÁâ©ÁöÑÈÉ®ÂàÜÔºåÈÄöÂ∏∏Âú®Áü≠ÊúüÂÖßÂç≥ÂèØËÆäÁèæ„ÄÇÈÄüÂãïË≥áÁî¢ÂåÖÊã¨Ôºö1.ÁèæÈáëÂèäÁ¥ÑÁï∂ÁèæÈáë„ÄÅ2.Áü≠ÊúüÊäïË≥á„ÄÅ3.ÊáâÊî∂Â∏≥Ê¨æ„ÄÇ",
                    topic: "Ë≤°ÂãôÊØîÁéáÂàÜÊûê",
                    subtopic: "ÊµÅÂãïÊÄßÂàÜÊûê"
                },
                {
                    question: "ÈñìÊé•Ê≥ïÁ∑®Âà∂ÁáüÊ•≠Ê¥ªÂãïÁèæÈáëÊµÅÈáèÁöÑÁâπÈªûÊòØÔºü",
                    options: [
                        "ÈÄê‰∏ÄË™øÊï¥ÂêÑÈ†ÖÁõÆÁÇ∫ÁèæÈáëÂü∫Á§é",
                        "‰ª•Ê¨äË≤¨Âü∫Á§éÁöÑÁ∂úÂêàÊêçÁõäË°®ÁÇ∫Âü∫Á§éÔºåÈÄèÈÅéË™øÊï¥ÊñπÂºèÂÆåÊàê",
                        "Êèê‰æõÂêÑÈ†ÖÁáüÊ•≠Ê¥ªÂãïÁöÑÁèæÈáëÊµÅÂÖ•ÊµÅÂá∫Á∏ΩÈáè",
                        "ÊñπÊ≥ïÁõ∏Â∞çË§áÈõú"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "ÈñìÊé•Ê≥ïÁâπÈªûÔºö1.‰ª•Ê¨äË≤¨Âü∫Á§éÁ∑®Âà∂ÁöÑÁ∂úÂêàÊêçÁõäË°®ÁÇ∫Âü∫Á§éÔºåÈÄèÈÅéË™øÊï¥ÊñπÂºèÊéíÈô§ÊáâÊî∂ËàáÈ†ê‰ªòÁöÑÈ†ÖÁõÆÈáëÈ°çÔºåÂÆåÊàê‰ª•ÁèæÈáëÁÇ∫Âü∫Á§éÁöÑÁèæÈáëÊµÅÈáèË°®ÁáüÊ•≠Ê¥ªÂãïÔºõ2.Ë≥áÊñôÂèñÂæóÊñπ‰æøÔºåÁ∑®Âà∂ÊàêÊú¨ËºÉ‰ΩéÔºõ3.ÁÑ°Ê≥ïÂæûÂ†±Ë°®‰∏≠‰∫ÜËß£ÁáüÊ•≠Ê¥ªÂãïÂÄãÂà•È†ÖÁõÆÂ∞çÁèæÈáëÊµÅÈáèÁöÑÂΩ±Èüø„ÄÇ",
                    topic: "ÁèæÈáëÊµÅÈáèÂàÜÊûê",
                    subtopic: "Á∑®Âà∂ÊñπÊ≥ï"
                },
                {
                    question: "‰∏ãÂàóÂì™‰∏ÄÈ†ÖÂ±¨ÊñºÁáüÊ•≠Ê¥ªÂãïÁöÑÁèæÈáëÊµÅÂá∫Ôºü",
                    options: [
                        "Âá∫ÂîÆÁÑ°ÂΩ¢Ë≥áÁî¢",
                        "ÁôºË°åÂÖ¨Âè∏ÂÇµ",
                        "ÈÄ≤Ë≤®‰ªòÁèæ",
                        "ÁèæÈáëÂ¢ûË≥á"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "ÁáüÊ•≠Ê¥ªÂãïÁèæÈáëÊµÅÂá∫ÂåÖÊã¨ÔºöÈÄ≤Ë≤®‰ªòÁèæ„ÄÅÊáâ‰ªòÊ¨æÈ†Ö‰ªòÁèæ„ÄÅËñ™Ë≥á‰ªòÁèæÁ≠â„ÄÇÁáüÊ•≠Ê¥ªÂãïÁèæÈáëÊµÅÂÖ•ÂåÖÊã¨ÔºöÁèæÈáëÈä∑Ë≤®„ÄÅÊáâÊî∂Ê¨æÈ†ÖÊî∂ÁèæÁ≠â„ÄÇ",
                    topic: "ÁèæÈáëÊµÅÈáèÂàÜÊûê",
                    subtopic: "‰∏âÂ§ßÊ¥ªÂãïÂàÜÈ°û"
                }
            ],
            'quality-management': [
                {
                    question: "PDCAÂæ™Áí∞ÁöÑ‰∏âÂÄãÁâπÈªûÊòØÔºü",
                    options: [
                        "Â§ßÁí∞Â∏∂Â∞èÁí∞„ÄÅÈöéÊ¢ØÂºè‰∏äÂçá„ÄÅÁßëÂ≠∏ÁÆ°ÁêÜËàáÁµ±Ë®àÊñπÊ≥ïÊáâÁî®",
                        "Ë®àÁï´„ÄÅÂü∑Ë°å„ÄÅÊ™¢Êü•„ÄÅÊîπÂñÑ",
                        "ÊåÅÁ∫åÊîπÂñÑ„ÄÅÂÖ®Âì°ÂèÉËàá„ÄÅÂÆ¢Êà∂Â∞éÂêë",
                        "Ê®ôÊ∫ñÂåñ„ÄÅÁ≥ªÁµ±Âåñ„ÄÅÊï∏ÊìöÂåñ"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "PDCAÂæ™Áí∞Êúâ‰∏âÂÄãÁâπÈªûÔºö1.Â§ßÈÇÑÂ∏∂ÂãïÂ∞èÁí∞ÁöÑÈÅãËΩâÈ´îÁ≥ªÔºõ2.ÂëàÁèæÈöéÊ¢ØÂºèÂæÄ‰∏äÁà¨ÂçáÔºõ3.ÁßëÂ≠∏ÁÆ°ÁêÜËàáÁµ±Ë®àÊñπÊ≥ïÁöÑÁ∂úÂêàÊáâÁî®„ÄÇ",
                    topic: "PDCAÂæ™Áí∞",
                    subtopic: "Âæ™Áí∞ÁâπÈªû"
                },
                {
                    question: "5M1E‰∏≠ÁöÑ5MÊòØÊåáÔºü",
                    options: [
                        "‰∫∫Âì°„ÄÅÊ©üÂô®„ÄÅÁâ©Êñô„ÄÅÊñπÊ≥ï„ÄÅÊ∏¨Èáè",
                        "ÁÆ°ÁêÜ„ÄÅÂ∏ÇÂ†¥„ÄÅÈáëÈå¢„ÄÅÊ©üÂô®„ÄÅ‰∫∫Âì°",
                        "ÊñπÊ≥ï„ÄÅÊùêÊñô„ÄÅÊ©üÂô®„ÄÅ‰∫∫Âäõ„ÄÅÁÆ°ÁêÜ",
                        "ÁõÆÊ®ô„ÄÅÊñπÊ≥ï„ÄÅÊâãÊÆµ„ÄÅË°°Èáè„ÄÅÁÆ°ÁêÜ"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "5M1E‰∏≠ÁöÑ5MÊåáÔºöMan‰∫∫Âì°„ÄÅMachineÊ©üÂô®„ÄÅMaterialÁâ©Êñô„ÄÅMethodÊñπÊ≥ï„ÄÅMeasurementÊ∏¨ÈáèÔºõ1EÊåáEnvironmentÁí∞Â¢É„ÄÇ",
                    topic: "ÂìÅË≥™ÁÆ°ÁêÜÂ∑•ÂÖ∑",
                    subtopic: "5M1E"
                },
                {
                    question: "8Disciplines(8Ds)ÁöÑÁ¨¨‰∏ÄÂÄãÊ≠•È©üÊòØÔºü",
                    options: [
                        "ÂÆöÁæ©ÂïèÈ°å",
                        "Êé°ÂèñÊîπÂñÑÂúòÈöäÊ®°Âºè",
                        "ÂØ¶ÊñΩÊö´ÊôÇÂ∞çÁ≠ñ",
                        "Ë®ÇÂÆöÊ†πÊú¨ÂéüÂõ†"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "8DsÁöÑÊ≠•È©üÔºö1.Êé°ÂèñÊîπÂñÑÂúòÈöäÊ®°Âºè„ÄÅ2.ÂÆöÁæ©ÂïèÈ°å„ÄÅ3.ÂØ¶ÊñΩÂèäÁ¢∫Ë™çÊö´ÊôÇÂ∞çÁ≠ñ„ÄÅ4.Ë®ÇÂÆöÂèäÁ¢∫Ë™çÊ†πÊú¨ÂéüÂõ†„ÄÅ5.Á¢∫Ë™çÁüØÊ≠£Â∞çÁ≠ñ„ÄÅ6.ÂØ¶ÊñΩÊ∞∏‰πÖÊÄßÁüØÊ≠£Â∞çÁ≠ñ„ÄÅ7.Èò≤Ê≠¢ÂïèÈ°åÂÜçÁôºÁîü„ÄÅ8.ÊÅ≠ÂñúÊîπÂñÑÂúòÈöä„ÄÇ",
                    topic: "ÂïèÈ°åËß£Ê±∫Â∑•ÂÖ∑",
                    subtopic: "8Disciplines"
                },
                {
                    question: "Ê®ôÁ´øÂ≠∏ÁøíÂà∂Â∫¶ÁöÑÁôºÂ±ïÁ®ãÂ∫èÂèØÊ≠∏Á¥çÁÇ∫ÂπæÊúüÔºü",
                    options: [
                        "ÂÖ©Êúü",
                        "‰∏âÊúü",
                        "ÂõõÊúü",
                        "‰∫îÊúü"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "Ê®ôÁ´øÂ≠∏ÁøíÂà∂Â∫¶ÁöÑÁôºÂ±ïÁ®ãÂ∫èÂèØÊ≠∏Á¥çÁÇ∫‰∏âÊúüÔºöÈ†êÂÇôÊúü„ÄÅÂØ¶ÈöõÂü∑Ë°åÊúü„ÄÅÂü∑Ë°åÂæå‰øÆÊ≠£ÊúüÔºåÂÖ±14ÂÄãÊ≠•È©ü„ÄÇ",
                    topic: "Ê®ôÁ´øÂ≠∏Áøí",
                    subtopic: "ÁôºÂ±ïÁ®ãÂ∫è"
                },
                {
                    question: "ÊµÅÁ®ãÈúÄË¶ÅÊîπÂñÑÁöÑÂõ†Á¥†‰∏çÂåÖÊã¨Ôºü",
                    options: [
                        "ÊäïÂÖ•‰∏çÁï∂Â¢ûÂä†ÊàñÁº∫‰πèÊïàÁéá",
                        "Áî¢Âá∫‰∏çÂ¶ÇÈ†êÊúü",
                        "Âì°Â∑•ÊªøÊÑèÂ∫¶ÊèêÂçá",
                        "‰ΩúÊ•≠ÊôÇÈñìÈÅéÈï∑ÊàñÈáçË§áÁèæË±°"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "ÊµÅÁ®ãÈúÄË¶ÅÊîπÂñÑÈÄöÂ∏∏ËÇáÂõ†ÊñºÔºö1.ÊäïÂÖ•‰∏çÁï∂Â¢ûÂä†ÊàñÁº∫‰πèÊïàÁéá„ÄÅ2.ÈúÄÊ±Ç‰∏çÊòéÁ¢∫„ÄÅ3.Áî¢Âá∫‰∏çÂ¶ÇÈ†êÊúü„ÄÅ4.ËôïÁêÜÁ®ãÂ∫èÁº∫‰πèÊïàÁéáÊàñ‰∏çÂêàÈÅ©„ÄÅ5.Ë≥áË®äÂÇ≥ÈÅûÂ±§Èù¢ÊïàÁéáÊàñÂÆâÂÖ®ÂïèÈ°å„ÄÅ6.ÊäÄË°ìÂ∑•ÂÖ∑ÊñπÊ≥ïÊõ¥Êèõ„ÄÅ7.Ë°°ÈáèÊñπÂºè‰∏çÁï∂„ÄÅ8.‰ΩúÊ•≠ÊôÇÈñìÈÅéÈï∑ÊàñÈáçË§áÁèæË±°„ÄÅ9.ÂºïÈÄ≤Êñ∞ÁöÑ‰ΩúÊ•≠ÊñπÂºè„ÄÇ",
                    topic: "ÊµÅÁ®ãÊîπÂñÑ",
                    subtopic: "ÊîπÂñÑÂõ†Á¥†"
                },
                {
                    question: "ÂìÅÁÆ°‰∏ÉÂ§ßÊâãÊ≥ï‰∏çÂåÖÊã¨Ôºü",
                    options: [
                        "ÁâπÊÄßË¶ÅÂõ†Âúñ",
                        "ÊüèÊãâÂúñ",
                        "ÁîòÁâπÂúñ",
                        "ÁÆ°Âà∂Âúñ"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "QC‰∏ÉÊâãÊ≥ïÂåÖÂê´Ôºö1.ÁâπÊÄßË¶ÅÂõ†Âúñ„ÄÅ2.Â±§Âà•Ê≥ï„ÄÅ3.Êü•Ê™¢Ë°®„ÄÅ4.ÊüèÊãâÂúñ„ÄÅ5.Áõ¥ÊñπÂúñ„ÄÅ6.Êï£Â∏ÉÂúñ„ÄÅ7.ÁÆ°Âà∂Âúñ„ÄÇ",
                    topic: "ÂìÅË≥™ÁÆ°ÁêÜÂ∑•ÂÖ∑",
                    subtopic: "QC‰∏ÉÊâãÊ≥ï"
                },
                {
                    question: "ÂìÅÁÆ°ÂúàÊ¥ªÂãïÂØ¶ÊñΩË®àÁï´Êõ∏ÁöÑ‰∏ªË¶ÅÊ¥ªÂãïÈ†ÖÁõÆÊúâÂπæÂÄãÔºü",
                    options: [
                        "6ÂÄã",
                        "7ÂÄã",
                        "8ÂÄã",
                        "9ÂÄã"
                    ],
                    correct_answer_letter: "B",
                    correct_answer_index: 1,
                    explanation: "ÂìÅÁÆ°ÂúàÊ¥ªÂãïÂØ¶ÊñΩË®àÁï´Êõ∏ÂåÖÂê´7ÂÄãÊ¥ªÂãïÈ†ÖÁõÆÔºö1.‰∏ªÈ°åÈÅ∏ÂÆö„ÄÅ2.ÁèæÁãÄÊääÊè°ËàáÁõÆÊ®ôË®≠ÂÆö„ÄÅ3.Ê¥ªÂãïË®àÁï´‰πãÊì¨ÂÆö„ÄÅ4.Ë¶ÅÂõ†ÂàÜÊûê„ÄÅ5.Â∞çÁ≠ñÊì¨ÂÆöËàáÂØ¶ÊñΩ„ÄÅ6.ÊïàÊûúÁ¢∫Ë™ç„ÄÅ7.Ê®ôÊ∫ñÂåñËàáÁ∂≠ÊåÅÁÆ°ÁêÜ„ÄÇ",
                    topic: "ÂìÅÁÆ°Âúà",
                    subtopic: "Ê¥ªÂãïË®àÁï´"
                },
                {
                    question: "Êé®Ë°åÂÖ®Èù¢ÂìÅË≥™ÁÆ°ÁêÜÈúÄÂÖ∑ÂÇôÁöÑÂü∫Êú¨ËßÄÂøµ‰∏çÂåÖÊã¨Ôºü",
                    options: [
                        "È´òÈöé‰∏ªÁÆ°ÁöÑÂÖÅË´æ„ÄÅÁµÑÁπîÊÄßÊîØÊåÅ",
                        "Â†ÖÂÆöÂÖßÂ§ñÈÉ®È°ßÂÆ¢Â∞éÂêë",
                        "Èôç‰ΩéÊàêÊú¨ÁÇ∫È¶ñË¶ÅÁõÆÊ®ô",
                        "ÊåÅÁ∫åÊîπÂñÑ‰ºÅÊ•≠ËàáÁîüÁî¢ÊµÅÁ®ã"
                    ],
                    correct_answer_letter: "C",
                    correct_answer_index: 2,
                    explanation: "Êé®Ë°åÂÖ®Èù¢ÂìÅË≥™ÁÆ°ÁêÜÈúÄÂÖ∑ÂÇôÂÖ≠ÂÄãÂü∫Êú¨ËßÄÂøµÔºö1.È´òÈöé‰∏ªÁÆ°ÁöÑÂÖÅË´æ„ÄÅÁµÑÁπîÊÄßÊîØÊåÅ„ÄÅ2.Â†ÖÂÆöÂÖßÂ§ñÈÉ®È°ßÂÆ¢Â∞éÂêë„ÄÅ3.ÊúâÊïàÈÅãÁî®ÂÖ®Âì°Â∑•‰ΩúÂäõ„ÄÅ4.ÊåÅÁ∫åÊîπÂñÑ‰ºÅÊ•≠ËàáÁîüÁî¢ÊµÅÁ®ã„ÄÅ5.Ë¶ñ‰æõÊáâÂïÜÁÇ∫Â§•‰º¥„ÄÅ6.Âª∫Á´ãÁ∏æÊïàË°°ÈáèÊåáÊ®ô„ÄÇ",
                    topic: "ÂÖ®Èù¢ÂìÅË≥™ÁÆ°ÁêÜ",
                    subtopic: "Âü∫Êú¨ËßÄÂøµ"
                },
                {
                    question: "DMAICÊ®°ÂºèÁöÑ5ÂÄãÊ≠•È©ü‰æùÂ∫èÁÇ∫Ôºü",
                    options: [
                        "ÂÆöÁæ©„ÄÅË°°Èáè„ÄÅÂàÜÊûê„ÄÅÊîπÂñÑ„ÄÅÊéßÂà∂",
                        "Ë®àÁï´„ÄÅÂü∑Ë°å„ÄÅÊ™¢Êü•„ÄÅË°åÂãï„ÄÅÊîπÂñÑ",
                        "ÂïèÈ°å„ÄÅÂéüÂõ†„ÄÅÂ∞çÁ≠ñ„ÄÅÂØ¶ÊñΩ„ÄÅÊ™¢Ë®é",
                        "ÁõÆÊ®ô„ÄÅÊñπÊ≥ï„ÄÅÂü∑Ë°å„ÄÅË©ï‰º∞„ÄÅÊîπÂñÑ"
                    ],
                    correct_answer_letter: "A",
                    correct_answer_index: 0,
                    explanation: "DMAICÊ®°ÂºèÊúâ5ÂÄãÊ≠•È©üÔºö1.ÂÆöÁæ©(Define)ÔºöÊ∏ÖÊ•öÂÆöÁæ©ÂïèÈ°å„ÄÅ2.Ë°°Èáè(Measure)ÔºöÊ™¢Ë¶ñÂÖßÈÉ®ÊµÅÁ®ã„ÄÅ3.ÂàÜÊûê(Analyze)ÔºöË¶ÅÂõ†ÂàÜÊûê„ÄÅ4.ÊîπÂñÑ(Improve)ÔºöÈôç‰ΩéÁº∫Â§±„ÄÅ5.ÊéßÂà∂(Control)ÔºöÁ∂≠ÊåÅÁ©©ÂÆö„ÄÇ",
                    topic: "ÂÖ≠Ê®ôÊ∫ñÂ∑Æ",
                    subtopic: "DMAICÊ®°Âºè"
                }
            ]
        };

        // È°åÂ∫´Ë≥áË®ä
        const databaseInfo = {
            'financial-market': {
                name: 'ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô',
                icon: 'fas fa-chart-line',
                color: '#ffd700',
                count: 15,
                description: 'ÈáëËûçÂïÜÂìÅËàáÊäïË≥áÂ∑•ÂÖ∑'
            },
            'financial-analysis': {
                name: 'Ë≤°ÂãôÂ†±Ë°®ÂàÜÊûê',
                icon: 'fas fa-calculator',
                color: '#28a745',
                count: 6,
                description: 'Ë≤°ÂãôÊØîÁéáËàáÁèæÈáëÊµÅÈáè'
            },
            'quality-management': {
                name: 'ÂìÅË≥™ÁÆ°ÁêÜ',
                icon: 'fas fa-cogs',
                color: '#17a2b8',
                count: 9,
                description: 'PDCAËàáÂìÅË≥™ÁÆ°ÁêÜÂ∑•ÂÖ∑'
            }
        };

        // ÂÖ®ÂüüÁãÄÊÖãÁÆ°ÁêÜ
        const ExamApp = {
            state: {
                isQuizActive: false,
                selectedDatabase: null,
                currentMode: 'practice',
                selectedReviewMode: null,
                questions: [],
                currentQuestionIndex: 0,
                userAnswers: {},
                score: 0,
                wrongQuestions: [],
                startTime: null,
                isTimerRunning: false,
                examDuration: 60,
                timerId: null,
                userData: null
            },
            
            elements: {
                databaseSelector: document.getElementById('database-selector'),
                databaseCards: document.querySelectorAll('.database-card'),
                settingsPanel: document.getElementById('settings-panel'),
                quizContainer: document.getElementById('quiz-container'),
                startBtn: document.getElementById('start-btn'),
                reviewBtnMain: document.getElementById('review-btn-main'),
                reviewModesSection: document.getElementById('review-modes-section'),
                backBtn: document.getElementById('back-to-selection'),
                prevBtn: document.getElementById('prev-btn'),
                submitBtn: document.getElementById('submit-btn'),
                nextBtn: document.getElementById('next-btn'),
                finishBtn: document.getElementById('finish-btn'),
                explanationBtn: document.getElementById('explanation-btn'),
                quizStatus: document.getElementById('quiz-status'),
                timerElement: document.getElementById('timer'),
                questionNumber: document.getElementById('question-number'),
                questionText: document.getElementById('question-text'),
                optionsContainer: document.getElementById('options-container'),
                explanationBox: document.getElementById('explanation-box'),
                explanationContent: document.getElementById('explanation-content'),
                progressBar: document.getElementById('progress-bar'),
                statsDisplay: document.getElementById('stats-display'),
                topicBadge: document.getElementById('topic-badge'),
                subtopicBadge: document.getElementById('subtopic-badge'),
                loadingOverlay: document.getElementById('loading-overlay'),
                loadingText: document.getElementById('loading-text'),
                questionCountSelect: document.getElementById('question-count'),
                questionCountHint: document.getElementById('question-count-hint')
            },
            
            modals: {
                result: new bootstrap.Modal(document.getElementById('result-modal')),
                stats: new bootstrap.Modal(document.getElementById('stats-modal')),
                help: new bootstrap.Modal(document.getElementById('help-modal'))
            },
            
            init() {
                this.state.userData = this.loadUserData();
                this.attachEventListeners();
                this.updateReviewButtonState();
                console.log('üöÄ ÈáëËûçË≠âÁÖßÊ®°Êì¨ËÄÉË©¶Á≥ªÁµ±Â∑≤ÂàùÂßãÂåñ');
            },
            
            loadUserData() {
                try {
                    const data = localStorage.getItem('FinanceExamUserData');
                    return data ? JSON.parse(data) : {
                        correct: [],
                        incorrect: [],
                        history: [],
                        databaseStats: {}
                    };
                } catch (error) {
                    console.error('ËºâÂÖ•‰ΩøÁî®ËÄÖÊï∏ÊìöÈåØË™§:', error);
                    return {
                        correct: [],
                        incorrect: [],
                        history: [],
                        databaseStats: {}
                    };
                }
            },
            
            saveUserData(showMessage = false) {
                try {
                    localStorage.setItem('FinanceExamUserData', JSON.stringify(this.state.userData));
                    if (showMessage) {
                        this.showAlert('Â≠∏ÁøíÊï∏ÊìöÂ∑≤ÂÑ≤Â≠ò', 'success');
                    }
                    return true;
                } catch (error) {
                    console.error('‰øùÂ≠ò‰ΩøÁî®ËÄÖÊï∏ÊìöÈåØË™§:', error);
                    if (showMessage) {
                        this.showAlert('ÂÑ≤Â≠òÂ§±Êïó: ' + error.message, 'error');
                    }
                    return false;
                }
            },
            
            attachEventListeners() {
                // È°åÂ∫´ÈÅ∏Êìá
                this.elements.databaseCards.forEach(card => {
                    card.addEventListener('click', (e) => {
                        if (this.state.isQuizActive) {
                            this.showAlert('Ê∏¨È©óÈÄ≤Ë°å‰∏≠ÔºåÁÑ°Ê≥ïÂàáÊèõÈ°åÂ∫´ÔºÅ', 'warning');
                            return;
                        }
                        this.selectDatabase(card.dataset.type);
                    });
                });
                
                // ÊåâÈàï‰∫ã‰ª∂
                this.elements.startBtn.addEventListener('click', () => this.startQuiz());
                this.elements.reviewBtnMain.addEventListener('click', () => this.startReview());
                this.elements.backBtn.addEventListener('click', () => this.backToSelection());
                this.elements.prevBtn.addEventListener('click', () => this.prevQuestion());
                this.elements.submitBtn.addEventListener('click', () => this.submitAnswer());
                this.elements.nextBtn.addEventListener('click', () => this.nextQuestion());
                this.elements.finishBtn.addEventListener('click', () => this.finishQuiz());
                this.elements.explanationBtn.addEventListener('click', () => this.showCurrentExplanation());
                
                // Ë§áÁøíÊ®°ÂºèÈÅ∏Êìá‰∫ã‰ª∂
                document.querySelectorAll('.review-mode-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        if (this.state.isQuizActive) {
                            this.showAlert('Ê∏¨È©óÈÄ≤Ë°å‰∏≠ÔºåÁÑ°Ê≥ïÊõ¥ÊîπË§áÁøíÊ®°ÂºèÔºÅ', 'warning');
                            return;
                        }
                        this.selectReviewMode(item.dataset.reviewMode);
                    });
                });
                
                // Â∞éËà™ÊåâÈàï
                document.getElementById('save-btn').addEventListener('click', () => this.saveUserData(true));
                document.getElementById('export-btn').addEventListener('click', () => this.exportWrongQuestions());
                document.getElementById('stats-btn').addEventListener('click', () => this.showStatistics());
                document.getElementById('help-btn').addEventListener('click', () => this.modals.help.show());
                
                // Ê®°ÂºèÈÅ∏Êìá
                document.querySelectorAll('.mode-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        if (this.state.isQuizActive) {
                            this.showAlert('Ê∏¨È©óÈÄ≤Ë°å‰∏≠ÔºåÁÑ°Ê≥ïÊõ¥ÊîπÊ®°ÂºèÔºÅ', 'warning');
                            return;
                        }
                        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        this.state.currentMode = btn.dataset.mode;
                        this.updateModeUI();
                    });
                });
                
                // Ê®°ÊÖãÊ°ÜÊåâÈàï
                document.getElementById('review-wrong-btn').addEventListener('click', () => this.reviewWrongQuestions());
                document.getElementById('reset-stats-btn').addEventListener('click', () => this.resetProgress());
                
                // È†ÅÈù¢ÈóúÈñâÂâçËá™Âãï‰øùÂ≠ò
                window.addEventListener('beforeunload', () => this.saveUserData(false));
            },
            
            selectDatabase(type) {
                this.elements.databaseCards.forEach(card => card.classList.remove('selected'));
                
                const selectedCard = document.querySelector(`[data-type="${type}"]`);
                selectedCard.classList.add('selected');
                
                this.state.selectedDatabase = type;
                this.updateDatabaseUI(type);
                this.elements.startBtn.disabled = false;
                this.updateReviewButtonState();
                this.updateQuestionCountOptions(type);
                
                console.log(`‚úÖ Â∑≤ÈÅ∏ÊìáÈ°åÂ∫´: ${type}`);
            },
            
            updateQuestionCountOptions(type) {
                const totalQuestions = databaseInfo[type].count;
                const select = this.elements.questionCountSelect;
                const hint = this.elements.questionCountHint;
                
                // Ê∏ÖÁ©∫ÈÅ∏È†Ö
                select.innerHTML = '';
                
                // Ê∑ªÂä†ÂÖ®ÈÉ®È°åÁõÆÈÅ∏È†Ö
                const allOption = document.createElement('option');
                allOption.value = 'all';
                allOption.textContent = `ÂÖ®ÈÉ®È°åÁõÆ (${totalQuestions}È°å)`;
                allOption.selected = true;
                select.appendChild(allOption);
                
                // Ê∑ªÂä†ÈÉ®ÂàÜÈ°åÁõÆÈÅ∏È†Ö
                if (totalQuestions >= 5) {
                    const partialOption = document.createElement('option');
                    partialOption.value = '5';
                    partialOption.textContent = '5È°å - Âø´ÈÄüÁ∑¥Áøí';
                    select.appendChild(partialOption);
                }
                
                if (totalQuestions >= 10) {
                    const partialOption = document.createElement('option');
                    partialOption.value = '10';
                    partialOption.textContent = '10È°å - Ê®ôÊ∫ñÁ∑¥Áøí';
                    select.appendChild(partialOption);
                }
                
                // Êõ¥Êñ∞ÊèêÁ§∫
                hint.textContent = `${databaseInfo[type].name} ÂÖ± ${totalQuestions} È°å`;
            },
            
            updateDatabaseUI(type) {
                const databaseNames = {
                    'financial-market': 'ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô',
                    'financial-analysis': 'Ë≤°ÂãôÂ†±Ë°®ÂàÜÊûê',
                    'quality-management': 'ÂìÅË≥™ÁÆ°ÁêÜ'
                };
                
                const selectedName = databaseNames[type] || type;
                this.elements.timerElement.innerHTML = `<i class="fas fa-clock me-2"></i>Â∑≤ÈÅ∏ÊìáÔºö${selectedName}`;
            },
            
            selectReviewMode(mode) {
                document.querySelectorAll('.review-mode-item').forEach(item => {
                    item.classList.remove('selected');
                });
                
                const selectedItem = document.querySelector(`[data-review-mode="${mode}"]`);
                if (selectedItem) {
                    selectedItem.classList.add('selected');
                    this.state.selectedReviewMode = mode;
                    this.updateReviewButtonState();
                    console.log(`‚úÖ Â∑≤ÈÅ∏ÊìáË§áÁøíÊ®°Âºè: ${mode}`);
                }
            },
            
            updateModeUI() {
                // Ê†πÊìöÊ®°ÂºèÈ°ØÁ§∫/Èö±ËóèË§áÁøíÈÅ∏È†Ö
                if (this.state.currentMode === 'practice' || this.state.currentMode === 'exam') {
                    this.elements.reviewModesSection.classList.add('d-none');
                    this.elements.startBtn.classList.remove('d-none');
                    this.elements.reviewBtnMain.classList.add('d-none');
                }
            },
            
            updateReviewButtonState() {
                const hasWrongQuestions = this.state.userData.incorrect && this.state.userData.incorrect.length > 0;
                const hasSelectedDatabase = this.state.selectedDatabase !== null;
                
                if (hasSelectedDatabase) {
                    this.elements.reviewModesSection.classList.remove('d-none');
                    this.elements.reviewBtnMain.classList.remove('d-none');
                } else {
                    this.elements.reviewModesSection.classList.add('d-none');
                    this.elements.reviewBtnMain.classList.add('d-none');
                }
                
                // Êõ¥Êñ∞ÈåØÈ°åË§áÁøíÈÅ∏È†ÖÁöÑÂèØÁî®ÁãÄÊÖã
                const wrongModeItem = document.querySelector('[data-review-mode="wrong"]');
                if (wrongModeItem) {
                    if (hasWrongQuestions) {
                        wrongModeItem.style.opacity = '1';
                        wrongModeItem.style.pointerEvents = 'auto';
                        wrongModeItem.title = 'Ë§áÁøí‰πãÂâçÁ≠îÈåØÁöÑÈ°åÁõÆ';
                    } else {
                        wrongModeItem.style.opacity = '0.5';
                        wrongModeItem.style.pointerEvents = 'none';
                        wrongModeItem.title = 'Â∞öÁÑ°ÈåØÈ°åË®òÈåÑ';
                    }
                }
                
                this.elements.reviewBtnMain.disabled = !hasSelectedDatabase;
            },
            
            startQuiz() {
                if (!this.state.selectedDatabase) {
                    this.showAlert('Ë´ãÂÖàÈÅ∏ÊìáÁßëÁõÆÔºÅ', 'warning');
                    return;
                }
                
                this.showLoading('Ê∫ñÂÇôÊ∏¨È©ó‰∏≠...');
                
                this.state.isQuizActive = true;
                this.lockInterface();
                
                const questionCountValue = this.elements.questionCountSelect.value;
                const questionCount = questionCountValue === 'all' ? 
                    databaseInfo[this.state.selectedDatabase].count : 
                    parseInt(questionCountValue);
                
                setTimeout(() => {
                    if (this.loadQuestions(questionCount)) {
                        this.state.currentQuestionIndex = 0;
                        this.state.userAnswers = {};
                        this.state.score = 0;
                        this.state.wrongQuestions = [];
                        this.state.startTime = new Date();
                        
                        this.elements.settingsPanel.classList.add('d-none');
                        this.elements.quizContainer.classList.remove('d-none');
                        this.elements.quizStatus.style.display = 'block';
                        this.elements.quizStatus.classList.add('active');
                        
                        this.displayQuestion();
                        
                        if (this.state.currentMode === 'exam') {
                            this.startTimer();
                        }
                        
                        this.hideLoading();
                        console.log('‚úÖ Ê∏¨È©óÂ∑≤ÈñãÂßã');
                    } else {
                        this.hideLoading();
                        this.state.isQuizActive = false;
                        this.unlockInterface();
                    }
                }, 500);
            },
            
            startReview() {
                if (!this.state.selectedDatabase) {
                    this.showAlert('Ë´ãÂÖàÈÅ∏ÊìáÁßëÁõÆÔºÅ', 'warning');
                    return;
                }
                
                if (!this.state.selectedReviewMode) {
                    this.showAlert('Ë´ãÈÅ∏ÊìáË§áÁøíÊ®°ÂºèÔºÅ', 'warning');
                    return;
                }
                
                this.showLoading('Ê∫ñÂÇôË§áÁøíÊ®°Âºè...');
                
                this.state.isQuizActive = true;
                this.state.currentMode = 'review';
                this.lockInterface();
                
                setTimeout(() => {
                    if (this.loadReviewQuestions()) {
                        this.state.currentQuestionIndex = 0;
                        this.state.userAnswers = {};
                        this.state.score = 0;
                        this.state.wrongQuestions = [];
                        this.state.startTime = new Date();
                        
                        this.elements.settingsPanel.classList.add('d-none');
                        this.elements.quizContainer.classList.remove('d-none');
                        this.elements.quizStatus.style.display = 'block';
                        this.elements.quizStatus.classList.add('active');
                        this.elements.quizStatus.innerHTML = '<i class="fas fa-redo me-1"></i>Ë§áÁøíÈÄ≤Ë°å‰∏≠';
                        
                        this.displayQuestion();
                        
                        this.hideLoading();
                        console.log('‚úÖ Ë§áÁøíÂ∑≤ÈñãÂßã');
                    } else {
                        this.hideLoading();
                        this.state.isQuizActive = false;
                        this.unlockInterface();
                    }
                }, 500);
            },
            
            loadQuestions(count) {
                const currentQuizData = quizData[this.state.selectedDatabase];
                
                if (!currentQuizData || currentQuizData.length === 0) {
                    this.showAlert(`${databaseInfo[this.state.selectedDatabase].name}È°åÂ∫´ÁÇ∫Á©∫ÔºÅ`, 'error');
                    return false;
                }
                
                // Èö®Ê©üÊéíÂ∫èÈ°åÁõÆ
                const shuffledQuestions = [...currentQuizData].sort(() => Math.random() - 0.5);
                
                // ÊåëÈÅ∏ÊåáÂÆöÊï∏ÈáèÈ°åÁõÆ
                this.state.questions = shuffledQuestions.slice(0, Math.min(count, shuffledQuestions.length));
                
                // ÈáçÊñ∞Á∑®ËôüÈ°åÁõÆ
                this.state.questions.forEach((q, index) => q.number = index + 1);
                
                return true;
            },
            
            loadReviewQuestions() {
                const currentQuizData = quizData[this.state.selectedDatabase];
                
                if (!currentQuizData || currentQuizData.length === 0) {
                    this.showAlert(`${databaseInfo[this.state.selectedDatabase].name}È°åÂ∫´ÁÇ∫Á©∫ÔºÅ`, 'error');
                    return false;
                }
                
                let questionsToReview = [];
                
                switch (this.state.selectedReviewMode) {
                    case 'wrong':
                        const incorrectQuestions = this.state.userData.incorrect || [];
                        questionsToReview = currentQuizData.filter(q => 
                            incorrectQuestions.includes(q.question)
                        );
                        if (questionsToReview.length === 0) {
                            this.showAlert('ÁõÆÂâçÊ≤íÊúâÈåØÈ°åË®òÈåÑÔºåË´ãÂÖàÈÄ≤Ë°åÁ∑¥ÁøíÔºÅ', 'info');
                            return false;
                        }
                        break;
                        
                    case 'all':
                        questionsToReview = [...currentQuizData];
                        break;
                        
                    default:
                        this.showAlert('Êú™Áü•ÁöÑË§áÁøíÊ®°ÂºèÔºÅ', 'error');
                        return false;
                }
                
                this.state.questions = questionsToReview;
                this.state.questions.forEach((q, index) => q.number = index + 1);
                
                return true;
            },
            
            lockInterface() {
                this.elements.databaseSelector.classList.add('disabled');
                this.elements.settingsPanel.classList.add('disabled');
                this.elements.databaseCards.forEach(card => card.classList.add('disabled'));
            },
            
            unlockInterface() {
                this.elements.databaseSelector.classList.remove('disabled');
                this.elements.settingsPanel.classList.remove('disabled');
                this.elements.databaseCards.forEach(card => card.classList.remove('disabled'));
            },
            
            displayQuestion() {
                if (!this.state.questions || this.state.currentQuestionIndex >= this.state.questions.length) {
                    this.finishQuiz();
                    return false;
                }
                
                const question = this.state.questions[this.state.currentQuestionIndex];
                
                this.elements.questionNumber.textContent = `ÂïèÈ°å ${question.number}/${this.state.questions.length}`;
                this.elements.questionText.textContent = question.question;
                
                // ÁîüÊàêÈÅ∏È†Ö
                this.elements.optionsContainer.innerHTML = '';
                question.options.forEach((option, index) => {
                    const letter = String.fromCharCode(65 + index);
                    const optionHTML = `
                        <div class="form-check mb-2">
                            <input class="option-input" type="radio" name="quiz-option" id="option-${letter}" value="${letter}">
                            <label class="option-label" for="option-${letter}">
                                ${letter}. ${option}
                            </label>
                        </div>
                    `;
                    this.elements.optionsContainer.insertAdjacentHTML('beforeend', optionHTML);
                });
                
                // ÊÅ¢Âæ©‰πãÂâçÁöÑÁ≠îÊ°à
                if (this.state.currentQuestionIndex in this.state.userAnswers) {
                    const previousAnswer = this.state.userAnswers[this.state.currentQuestionIndex];
                    const answerInput = document.getElementById(`option-${previousAnswer.answer}`);
                    if (answerInput) {
                        answerInput.checked = true;
                    }
                    
                    if (this.state.currentMode !== 'exam') {
                        this.showExplanation(question, previousAnswer.answer, previousAnswer.isCorrect);
                        document.querySelectorAll('input[name="quiz-option"]').forEach(input => {
                            input.disabled = true;
                        });
                    }
                }
                
                // Êõ¥Êñ∞ÈÄ≤Â∫¶Ê¢ù
                const progress = ((this.state.currentQuestionIndex + 1) / this.state.questions.length) * 100;
                this.elements.progressBar.style.width = `${progress}%`;
                
                // Êõ¥Êñ∞ÊåâÈàïÁãÄÊÖã
                this.updateButtonStates();
                
                // Êõ¥Êñ∞Áµ±Ë®à
                this.updateStats();
                
                // Èö±ËóèËß£ÊûêÔºàÂ¶ÇÊûúÊú™ÂõûÁ≠îÔºâ
                if (!(this.state.currentQuestionIndex in this.state.userAnswers)) {
                    this.elements.explanationBox.classList.add('d-none');
                }
                
                return true;
            },
            
            submitAnswer() {
                const selectedOption = document.querySelector('input[name="quiz-option"]:checked');
                if (!selectedOption) {
                    this.showAlert('Ë´ãÈÅ∏Êìá‰∏ÄÂÄãÁ≠îÊ°àÔºÅ', 'warning');
                    return false;
                }
                
                const question = this.state.questions[this.state.currentQuestionIndex];
                const userAnswer = selectedOption.value;
                const isCorrect = userAnswer === question.correct_answer_letter;
                
                // Ë®òÈåÑÁ≠îÊ°à
                this.state.userAnswers[this.state.currentQuestionIndex] = {
                    answer: userAnswer,
                    isCorrect: isCorrect,
                    timestamp: new Date()
                };
                
                // Êõ¥Êñ∞ÂàÜÊï∏
                if (isCorrect) {
                    this.state.score++;
                    if (!this.state.userData.correct.includes(question.question)) {
                        this.state.userData.correct.push(question.question);
                    }
                    const incorrectIndex = this.state.userData.incorrect.indexOf(question.question);
                    if (incorrectIndex !== -1) {
                        this.state.userData.incorrect.splice(incorrectIndex, 1);
                    }
                } else {
                    this.state.wrongQuestions.push(question);
                    if (!this.state.userData.incorrect.includes(question.question)) {
                        this.state.userData.incorrect.push(question.question);
                    }
                    const correctIndex = this.state.userData.correct.indexOf(question.question);
                    if (correctIndex !== -1) {
                        this.state.userData.correct.splice(correctIndex, 1);
                    }
                }
                
                // Ë®òÈåÑÊ≠∑Âè≤
                const historyEntry = {
                    timestamp: new Date().toISOString(),
                    database: this.state.selectedDatabase,
                    question: question.question,
                    options: question.options,
                    user_answer: userAnswer,
                    correct_answer_letter: question.correct_answer_letter,
                    correct_answer_index: question.correct_answer_index,
                    is_correct: isCorrect,
                    topic: question.topic,
                    subtopic: question.subtopic,
                    explanation: question.explanation
                };
                this.state.userData.history.push(historyEntry);
                
                // È°ØÁ§∫Ëß£Êûê
                if (this.state.currentMode === 'practice' || this.state.currentMode === 'review') {
                    this.showExplanation(question, userAnswer, isCorrect);
                    document.querySelectorAll('input[name="quiz-option"]').forEach(input => {
                        input.disabled = true;
                    });
                }
                
                // Êõ¥Êñ∞Áµ±Ë®àËàáÊåâÈàïÁãÄÊÖã
                this.updateStats();
                this.updateButtonStates();
                this.updateReviewButtonState();
                
                // ‰øùÂ≠òÁî®Êà∂Ë≥áÊñô
                this.saveUserData(false);
                
                return true;
            },
            
            showExplanation(question, userAnswer, isCorrect) {
                this.elements.explanationBox.classList.remove('d-none');
                
                const resultClass = isCorrect ? 'correct' : 'incorrect';
                const resultIcon = isCorrect ? '‚úÖ' : '‚ùå';
                const resultText = isCorrect ? 'Á≠îÂ∞ç‰∫ÜÔºÅ' : `Á≠îÈåØ‰∫ÜÔºÅÊ≠£Á¢∫Á≠îÊ°àÊòØ ${question.correct_answer_letter}`;
                
                let explanationHTML = `
                    <div class="${resultClass} mb-3">
                        ${resultIcon} ${resultText}
                    </div>
                    <div class="fw-bold mb-2">Ëß£Êûê:</div>
                    <div class="highlight">${question.explanation || 'ÁÑ°Ëß£Êûê'}</div>
                `;
                
                this.elements.explanationContent.innerHTML = explanationHTML;
                
                // È°ØÁ§∫‰∏ªÈ°åÊ®ôÁ±§
                this.elements.topicBadge.textContent = question.topic || 'Êú™ÂàÜÈ°û';
                this.elements.subtopicBadge.textContent = question.subtopic || 'Êú™ÂàÜÈ°û';
            },
            
            showCurrentExplanation() {
                if (this.state.currentQuestionIndex in this.state.userAnswers) {
                    const question = this.state.questions[this.state.currentQuestionIndex];
                    const userAnswerData = this.state.userAnswers[this.state.currentQuestionIndex];
                    this.showExplanation(question, userAnswerData.answer, userAnswerData.isCorrect);
                    this.showAlert('Â∑≤È°ØÁ§∫Áï∂ÂâçÈ°åÁõÆËß£Êûê', 'info');
                } else {
                    this.showAlert('Âª∫Ë≠∞ÂÖàÂõûÁ≠îÈ°åÁõÆÂÜçÊü•ÁúãËß£ÊûêÔºåÈÄôÊ®£Â≠∏ÁøíÊïàÊûúÊõ¥Â•ΩÔºÅ', 'info');
                }
            },
            
            nextQuestion() {
                if (this.state.currentQuestionIndex < this.state.questions.length - 1) {
                    this.state.currentQuestionIndex++;
                    this.displayQuestion();
                } else {
                    this.finishQuiz();
                }
            },
            
            prevQuestion() {
                if (this.state.currentQuestionIndex > 0 && this.state.currentMode !== 'exam') {
                    this.state.currentQuestionIndex--;
                    this.displayQuestion();
                }
            },
            
            backToSelection() {
                if (this.state.isQuizActive) {
                    const confirmBack = confirm('Á¢∫ÂÆöË¶ÅÊîæÊ£ÑÁï∂ÂâçÊ∏¨È©ó‰∏¶ËøîÂõûÁßëÁõÆÈÅ∏ÊìáÂóéÔºü\nÈÄ≤Â∫¶Â∞á‰∏çÊúÉË¢´‰øùÂ≠ò„ÄÇ');
                    if (!confirmBack) {
                        return;
                    }
                }
                
                this.state.isQuizActive = false;
                this.unlockInterface();
                this.stopTimer();
                
                this.elements.quizContainer.classList.add('d-none');
                this.elements.settingsPanel.classList.remove('d-none');
                this.elements.quizStatus.style.display = 'none';
                this.elements.quizStatus.classList.remove('active');
                
                console.log('üîô Â∑≤ËøîÂõûÁßëÁõÆÈÅ∏Êìá');
            },
            
            finishQuiz() {
                this.stopTimer();
                this.showResult();
                
                this.state.isQuizActive = false;
                this.unlockInterface();
            },
            
            showResult() {
                const total = this.state.questions.length;
                const answered = Object.keys(this.state.userAnswers).length;
                const score = this.state.score;
                const percentage = (score / total * 100).toFixed(1);
                
                const endTime = new Date();
                const duration = Math.round((endTime - this.state.startTime) / 1000 / 60);
                
                let resultHTML = `
                    <div class="text-center mb-4">
                        <h3>üìä ${this.state.currentMode === 'review' ? 'Ë§áÁøí' : 'Ê∏¨È©ó'}ÁµêÊûú</h3>
                        <div class="progress my-3" style="height: 25px;">
                            <div class="progress-bar ${percentage >= 70 ? 'bg-success' : 'bg-warning'}" style="width: ${percentage}%">
                                ${percentage}%
                            </div>
                        </div>
                    </div>
                    
                    <div class="row text-center mb-4">
                        <div class="col-3">
                            <div class="card border-0 bg-light">
                                <div class="card-body">
                                    <h4 class="text-primary">${score}</h4>
                                    <small>ÂæóÂàÜ</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="card border-0 bg-light">
                                <div class="card-body">
                                    <h4 class="text-info">${total}</h4>
                                    <small>Á∏ΩÈ°åÊï∏</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="card border-0 bg-light">
                                <div class="card-body">
                                    <h4 class="text-warning">${percentage}%</h4>
                                    <small>Ê≠£Á¢∫Áéá</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="card border-0 bg-light">
                                <div class="card-body">
                                    <h4 class="text-secondary">${duration}ÂàÜ</h4>
                                    <small>Áî®ÊôÇ</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert ${percentage >= 70 ? 'alert-success' : 'alert-warning'} mb-4">
                        <h5 class="alert-heading">
                            ${percentage >= 70 ? 'üéâ Ë°®ÁèæÂÑ™ÁßÄÔºÅ' : 'üí™ ÁπºÁ∫åÂä™ÂäõÔºÅ'}
                        </h5>
                        <p class="mb-0">
                            ${percentage >= 70 ? 
                                'ÊàêÁ∏æÂÑ™Áï∞ÔºåÂ∞çË©≤ÁßëÁõÆÊéåÊè°ËâØÂ•ΩÔºÅ' : 
                                'ÈÇÑÊúâÈÄ≤Ê≠•Á©∫ÈñìÔºåÂª∫Ë≠∞Â§öÂä†Á∑¥ÁøíÈåØÈ°å„ÄÇ'}
                        </p>
                    </div>
                `;
                
                // ÈåØÈ°åÂàÜÊûê
                if (this.state.wrongQuestions.length > 0) {
                    const topicWrongs = {};
                    this.state.wrongQuestions.forEach(question => {
                        const topic = question.topic || 'Êú™ÂàÜÈ°û';
                        if (!topicWrongs[topic]) {
                            topicWrongs[topic] = [];
                        }
                        topicWrongs[topic].push(question);
                    });
                    
                    resultHTML += `
                        <div class="card">
                            <div class="card-header bg-danger text-white">
                                <h5 class="mb-0">‚ùå ÈåØÈ°åÂàÜÊûê (${this.state.wrongQuestions.length}È°å)</h5>
                            </div>
                            <div class="card-body" style="max-height: 400px; overflow-y: auto;">
                    `;
                    
                    for (const [topic, questions] of Object.entries(topicWrongs)) {
                        resultHTML += `
                            <div class="mb-4">
                                <h6 class="border-bottom pb-2">„Äê${topic}„Äë: ${questions.length}È°å</h6>
                        `;
                        
                        questions.forEach((q, index) => {
                            const userAnswerIndex = this.state.userAnswers[this.state.questions.indexOf(q)].answer.charCodeAt(0) - 65;
                            const userAnswerText = q.options[userAnswerIndex] || 'Êú™‰ΩúÁ≠î';
                            const questionId = `wrong-q-${topic.replace(/\s+/g, '-')}-${index}`;
                            
                            resultHTML += `
                                <div class="mb-3">
                                    <div class="fw-bold position-relative" 
                                         style="cursor: pointer; padding: 5px; border-radius: 4px;" 
                                         data-bs-toggle="collapse" 
                                         data-bs-target="#${questionId}">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>${index+1}. ${q.question}</div>
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                    </div>
                                    <div class="ps-3 mt-1">
                                        <div class="text-danger">ÊÇ®ÁöÑÁ≠îÊ°à: ${this.state.userAnswers[this.state.questions.indexOf(q)].answer} (${userAnswerText})</div>
                                        <div class="text-success">Ê≠£Á¢∫Á≠îÊ°à: ${q.correct_answer_letter} (${q.options[q.correct_answer_index]})</div>
                                        <div class="collapse mt-2" id="${questionId}">
                                            <div class="card card-body bg-light">
                                                <h6 class="text-primary mb-2">È°åÁõÆËß£Êûê:</h6>
                                                ${q.explanation || 'ÁÑ°Ëß£Êûê'}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;
                        });
                        
                        resultHTML += `</div>`;
                    }
                    
                    resultHTML += `
                            </div>
                        </div>
                    `;
                }
                
                document.getElementById('result-content').innerHTML = resultHTML;
                
                // Ê∑ªÂä†ÊäòÁñäÊïàÊûú
                document.querySelectorAll('[data-bs-toggle="collapse"]').forEach(item => {
                    item.addEventListener('click', function() {
                        const icon = this.querySelector('i');
                        if (this.getAttribute('aria-expanded') === 'true') {
                            icon.classList.remove('fa-chevron-up');
                            icon.classList.add('fa-chevron-down');
                        } else {
                            icon.classList.remove('fa-chevron-down');
                            icon.classList.add('fa-chevron-up');
                        }
                    });
                });
                
                this.modals.result.show();
                
                // Èö±ËóèË§áÁøíÈåØÈ°åÊåâÈàïÔºàÂ¶ÇÊûúÊòØÈåØÈ°åÊ®°ÂºèÔºâ
                document.getElementById('review-wrong-btn').style.display = 
                    (this.state.currentMode === 'review' && this.state.selectedReviewMode === 'wrong') ? 'none' : 'block';
            },
            
            reviewWrongQuestions() {
                if (this.state.wrongQuestions.length === 0) {
                    this.showAlert('Ê≤íÊúâÈåØÈ°åÈúÄË¶ÅË§áÁøí', 'info');
                    return;
                }
                
                this.modals.result.hide();
                
                this.state.currentMode = 'review';
                this.state.selectedReviewMode = 'wrong';
                
                this.state.questions = this.state.wrongQuestions.slice();
                this.state.currentQuestionIndex = 0;
                this.state.score = 0;
                this.state.userAnswers = {};
                this.state.wrongQuestions = [];
                
                this.state.questions.forEach((q, index) => {
                    q.number = index + 1;
                });
                
                this.displayQuestion();
                this.updateButtonStates();
                
                this.showAlert('ÈñãÂßãË§áÁøíÈåØÈ°å', 'success');
            },
            
            updateButtonStates() {
                const hasAnswered = this.state.currentQuestionIndex in this.state.userAnswers;
                const isFirstQuestion = this.state.currentQuestionIndex === 0;
                const isLastQuestion = this.state.currentQuestionIndex === this.state.questions.length - 1;
                
                this.elements.prevBtn.disabled = isFirstQuestion || this.state.currentMode === 'exam';
                this.elements.submitBtn.disabled = hasAnswered;
                this.elements.nextBtn.disabled = !hasAnswered || isLastQuestion;
                this.elements.finishBtn.disabled = !hasAnswered && !isLastQuestion;
                this.elements.explanationBtn.disabled = !hasAnswered;
            },
            
            updateStats() {
                const answered = Object.keys(this.state.userAnswers).length;
                const total = this.state.questions.length;
                const percentage = answered > 0 ? (this.state.score / answered * 100).toFixed(1) : 0;
                
                this.elements.statsDisplay.textContent = `ÂæóÂàÜ: ${this.state.score}/${answered} (${percentage}%)`;
            },
            
            showStatistics() {
                const correctCount = this.state.userData.correct ? this.state.userData.correct.length : 0;
                const incorrectCount = this.state.userData.incorrect ? this.state.userData.incorrect.length : 0;
                const totalAnswered = correctCount + incorrectCount;
                const accuracy = totalAnswered > 0 ? (correctCount / totalAnswered) * 100 : 0;
                
                // ÂàÜÊûêÂêÑÈ°åÂ∫´Áµ±Ë®à
                const databaseStats = {};
                (this.state.userData.history || []).forEach(entry => {
                    const db = entry.database || 'Êú™Áü•';
                    if (!databaseStats[db]) {
                        databaseStats[db] = { correct: 0, total: 0 };
                    }
                    databaseStats[db].total += 1;
                    if (entry.is_correct) {
                        databaseStats[db].correct += 1;
                    }
                });
                
                // ‰∏ªÈ°åÂàÜÊûê
                const topicStats = {};
                (this.state.userData.history || []).forEach(entry => {
                    const topic = entry.topic || 'Êú™ÂàÜÈ°û';
                    if (!topicStats[topic]) {
                        topicStats[topic] = { correct: 0, total: 0 };
                    }
                    topicStats[topic].total += 1;
                    if (entry.is_correct) {
                        topicStats[topic].correct += 1;
                    }
                });
                
                let statsHTML = `
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card bg-primary text-white">
                                <div class="card-body text-center">
                                    <h4>${correctCount}</h4>
                                    <p class="mb-0">Á≠îÂ∞çÈ°åÊï∏</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card bg-danger text-white">
                                <div class="card-body text-center">
                                    <h4>${incorrectCount}</h4>
                                    <p class="mb-0">Á≠îÈåØÈ°åÊï∏</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mb-4">
                        <div class="card-header bg-success text-white">
                            <h5 class="mb-0">Êï¥È´îË°®Áèæ</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <p><strong>Á∏ΩÁ≠îÈ°åÊï∏:</strong> ${totalAnswered}</p>
                                    <p><strong>Êï¥È´îÊ≠£Á¢∫Áéá:</strong> ${accuracy.toFixed(1)}%</p>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress" style="height: 30px;">
                                        <div class="progress-bar ${accuracy >= 70 ? 'bg-success' : 'bg-warning'}" style="width: ${accuracy}%">
                                            ${accuracy.toFixed(1)}%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mb-4">
                        <div class="card-header bg-info text-white">
                            <h5 class="mb-0">ÂêÑÁßëÁõÆË°®Áèæ</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>ÁßëÁõÆ</th>
                                            <th>Ê≠£Á¢∫Áéá</th>
                                            <th>Ê≠£Á¢∫/Á∏ΩÊï∏</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                `;
                
                const databaseNames = {
                    'financial-market': 'ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô',
                    'financial-analysis': 'Ë≤°ÂãôÂ†±Ë°®ÂàÜÊûê',
                    'quality-management': 'ÂìÅË≥™ÁÆ°ÁêÜ'
                };
                
                Object.keys(databaseStats).forEach(db => {
                    const stats = databaseStats[db];
                    const dbAccuracy = stats.total > 0 ? (stats.correct / stats.total) * 100 : 0;
                    const dbName = databaseNames[db] || db;
                    
                    statsHTML += `
                        <tr>
                            <td>${dbName}</td>
                            <td>
                                <div class="progress" style="height: 15px;">
                                    <div class="progress-bar ${dbAccuracy < 60 ? 'bg-danger' : dbAccuracy < 80 ? 'bg-warning' : 'bg-success'}" 
                                         style="width: ${dbAccuracy}%;"></div>
                                </div>
                                ${dbAccuracy.toFixed(1)}%
                            </td>
                            <td>${stats.correct}/${stats.total}</td>
                        </tr>
                    `;
                });
                
                if (Object.keys(databaseStats).length === 0) {
                    statsHTML += '<tr><td colspan="3" class="text-center">Â∞öÊú™ÊúâÁ∑¥ÁøíË®òÈåÑ</td></tr>';
                }
                
                statsHTML += `
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header bg-warning text-dark">
                            <h5 class="mb-0">‰∏ªÈ°åÂàÜÊûê</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>‰∏ªÈ°å</th>
                                            <th>Ê≠£Á¢∫Áéá</th>
                                            <th>Âª∫Ë≠∞</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                `;
                
                Object.keys(topicStats).forEach(topic => {
                    const stats = topicStats[topic];
                    const topicAccuracy = stats.total > 0 ? (stats.correct / stats.total) * 100 : 0;
                    let suggestion = '';
                    
                    if (topicAccuracy < 60) {
                        suggestion = 'üî¥ ÈáçÈªûÂä†Âº∑';
                    } else if (topicAccuracy < 80) {
                        suggestion = 'üü° ÊåÅÁ∫åÁ∑¥Áøí';
                    } else {
                        suggestion = 'üü¢ Ë°®ÁèæËâØÂ•Ω';
                    }
                    
                    statsHTML += `
                        <tr>
                            <td>${topic}</td>
                            <td>
                                <div class="progress" style="height: 15px;">
                                    <div class="progress-bar ${topicAccuracy < 60 ? 'bg-danger' : topicAccuracy < 80 ? 'bg-warning' : 'bg-success'}" 
                                         style="width: ${topicAccuracy}%;"></div>
                                </div>
                                ${topicAccuracy.toFixed(1)}%
                            </td>
                            <td>${suggestion}</td>
                        </tr>
                    `;
                });
                
                if (Object.keys(topicStats).length === 0) {
                    statsHTML += '<tr><td colspan="3" class="text-center">Â∞öÊú™ÊúâÁ∑¥ÁøíË®òÈåÑ</td></tr>';
                }
                
                statsHTML += `
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                `;
                
                document.getElementById('stats-content').innerHTML = statsHTML;
                this.modals.stats.show();
            },
            
            exportWrongQuestions() {
                if (!this.state.userData.incorrect || this.state.userData.incorrect.length === 0) {
                    this.showAlert('ÁõÆÂâçÊ≤íÊúâÈåØÈ°åË®òÈåÑ', 'info');
                    return;
                }
                
                let exportText = "ÈáëËûçË≠âÁÖßÊ®°Êì¨ËÄÉË©¶ÈåØÈ°åÈõÜ\n";
                exportText += `ÂåØÂá∫ÊôÇÈñì: ${new Date().toLocaleString()}\n`;
                exportText += `Á∏ΩÈåØÈ°åÊï∏: ${this.state.userData.incorrect.length}\n\n`;
                exportText += "="*50 + "\n\n";
                
                const incorrectQuestions = this.state.userData.incorrect;
                const questionData = {};
                
                // ÂæûÊ≠∑Âè≤Ë®òÈåÑ‰∏≠Â∞ãÊâæÂ∞çÊáâÁöÑÈåØÈ°åË©≥Á¥∞Ë≥áË®ä
                (this.state.userData.history || []).forEach(entry => {
                    if (incorrectQuestions.includes(entry.question) && !questionData[entry.question]) {
                        questionData[entry.question] = entry;
                    }
                });
                
                // ÁîüÊàêÈåØÈ°åÂÖßÂÆπ
                incorrectQuestions.forEach((questionText, i) => {
                    exportText += `„ÄêÈ°åÁõÆ ${i+1}„Äë\n${questionText}\n\n`;
                    
                    if (questionData[questionText]) {
                        const data = questionData[questionText];
                        
                        // ÂØ´ÂÖ•ÈÅ∏È†Ö
                        const options = data.options || [];
                        if (options.length > 0) {
                            exportText += "ÈÅ∏È†Ö:\n";
                            options.forEach((option, j) => {
                                exportText += `${String.fromCharCode(65+j)}. ${option}\n`;
                            });
                            exportText += "\n";
                        }
                        
                        exportText += `Ê≠£Á¢∫Á≠îÊ°à: ${data.correct_answer_letter || 'Êú™Áü•'}\n`;
                        exportText += `ÊÇ®ÁöÑÁ≠îÊ°à: ${data.user_answer || 'Êú™Áü•'}\n`;
                        
                        const dbNames = {
                            'financial-market': 'ÈáëËûçÂ∏ÇÂ†¥ÂØ¶Âãô',
                            'financial-analysis': 'Ë≤°ÂãôÂ†±Ë°®ÂàÜÊûê',
                            'quality-management': 'ÂìÅË≥™ÁÆ°ÁêÜ'
                        };
                        exportText += `ÁßëÁõÆ‰æÜÊ∫ê: ${dbNames[data.database] || data.database}\n`;
                        exportText += `‰∏ªÈ°åÂàÜÈ°û: ${data.topic || 'Êú™ÂàÜÈ°û'} > ${data.subtopic || 'Êú™ÂàÜÈ°û'}\n`;
                        
                        if (data.explanation) {
                            exportText += `Ëß£Êûê: ${data.explanation}\n`;
                        }
                    }
                    
                    exportText += "\n" + "-".repeat(50) + "\n\n";
                });
                
                exportText += "\nÂª∫Ë≠∞Âæ©ÁøíÈáçÈªû:\n";
                exportText += "1. ÈáçÈªûÈóúÊ≥®Á≠îÈåØÁéáÈ´òÁöÑ‰∏ªÈ°å\n";
                exportText += "2. ÁêÜËß£È°åÁõÆËÉåÂæåÁöÑÁêÜË´ñÂü∫Á§é\n";
                exportText += "3. Âä†Âº∑Áõ∏ÈóúÊ¶ÇÂøµÁöÑÂØ¶ÂãôÊáâÁî®\n";
                exportText += "4. ÂÆöÊúüÂõûÈ°ßÈåØÈ°åÔºåÈÅøÂÖçÈáçË§áÁäØÈåØ\n";
                
                // ÂâµÂª∫‰∏ãËºâÈÄ£Áµê
                const filename = `ÈáëËûçË≠âÁÖßÈåØÈ°åÈõÜ_${new Date().toISOString().slice(0,19).replace(/[-:T]/g, '')}.txt`;
                const blob = new Blob([exportText], { type: 'text/plain;charset=utf-8' });
                
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = filename;
                a.style.display = 'none';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                
                this.showAlert(`ÈåØÈ°åÂ∑≤ÂåØÂá∫Ëá≥ ${filename}`, 'success');
            },
            
            resetProgress() {
                if (confirm('Á¢∫ÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâÂ≠∏ÁøíÈÄ≤Â∫¶ÂóéÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÈÄÜ„ÄÇ\n\nÂ∞áÊ∏ÖÈô§Ôºö\n- ÊâÄÊúâÁ≠îÈ°åË®òÈåÑ\n- ÈåØÈ°åÁµ±Ë®à\n- Â≠∏ÁøíÊ≠∑Âè≤')) {
                    this.state.userData = {
                        correct: [],
                        incorrect: [],
                        history: [],
                        databaseStats: {}
                    };
                    this.saveUserData();
                    this.updateReviewButtonState();
                    this.modals.stats.hide();
                    this.showAlert('Â≠∏ÁøíÈÄ≤Â∫¶Â∑≤ÈáçÁΩÆ', 'success');
                }
            },
            
            startTimer() {
                this.state.isTimerRunning = true;
                this.state.startTime = new Date();
                this.updateTimer();
            },
            
            stopTimer() {
                this.state.isTimerRunning = false;
                if (this.state.timerId) {
                    clearTimeout(this.state.timerId);
                    this.state.timerId = null;
                }
            },
            
            updateTimer() {
                if (!this.state.isTimerRunning) {
                    return;
                }
                
                const currentTime = new Date();
                const elapsedSeconds = Math.floor((currentTime - this.state.startTime) / 1000);
                const remainingSeconds = (this.state.examDuration * 60) - elapsedSeconds;
                
                if (remainingSeconds <= 0) {
                    this.updateTimerDisplay('00:00');
                    this.elements.timerElement.classList.add('warning');
                    this.stopTimer();
                    this.showAlert('ÊôÇÈñìÂà∞ÔºÅËÄÉË©¶ÁµêÊùü„ÄÇ', 'warning');
                    this.finishQuiz();
                    return;
                }
                
                const minutes = Math.floor(remainingSeconds / 60);
                const seconds = remainingSeconds % 60;
                const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                this.updateTimerDisplay(timeString);
                
                if (minutes < 5) {
                    this.elements.timerElement.classList.add('warning');
                } else {
                    this.elements.timerElement.classList.remove('warning');
                }
                
                this.state.timerId = setTimeout(() => this.updateTimer(), 1000);
            },
            
            updateTimerDisplay(timeString) {
                this.elements.timerElement.innerHTML = `<i class="fas fa-clock me-2"></i>Ââ©È§òÊôÇÈñì: ${timeString}`;
            },
            
            showAlert(message, type = 'info') {
                const alertTypes = {
                    'success': 'alert-success',
                    'error': 'alert-danger', 
                    'warning': 'alert-warning',
                    'info': 'alert-info'
                };
                
                const alertClass = alertTypes[type] || 'alert-info';
                const iconMap = {
                    'success': 'fa-check-circle',
                    'error': 'fa-exclamation-triangle',
                    'warning': 'fa-exclamation-triangle', 
                    'info': 'fa-info-circle'
                };
                const icon = iconMap[type] || 'fa-info-circle';
                
                const alertDiv = document.createElement('div');
                alertDiv.className = `alert ${alertClass} alert-dismissible fade show position-fixed`;
                alertDiv.style.cssText = `
                    top: 100px; 
                    right: 20px; 
                    z-index: 9999; 
                    min-width: 300px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                `;
                alertDiv.innerHTML = `
                    <i class="fas ${icon} me-2"></i>${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                `;
                
                document.body.appendChild(alertDiv);
                
                setTimeout(() => {
                    if (alertDiv.parentNode) {
                        alertDiv.remove();
                    }
                }, 5000);
            },
            
            showLoading(text = 'ËôïÁêÜ‰∏≠...') {
                this.elements.loadingText.textContent = text;
                this.elements.loadingOverlay.classList.remove('d-none');
            },
            
            hideLoading() {
                this.elements.loadingOverlay.classList.add('d-none');
            }
        };
        
        // ÂàùÂßãÂåñÊáâÁî®
        document.addEventListener('DOMContentLoaded', () => {
            ExamApp.init();
        });
    </script>
</body>
</html>
                    
